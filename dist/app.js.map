{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/icon-16.png","webpack:///./assets/icon-32.png","webpack:///./assets/icon-80_1.png","webpack:///./src/app/app.js","webpack:///./src/app/attention.js","webpack:///./src/app/services/filedata.service.js","webpack:///./src/app/services/gateway.service.js","webpack:///./src/app/services/session.service.js","webpack:///./src/app/utils.js"],"names":["prodEnvironment","haveCamera","userIp","iter","terms","customerFirstName","userFromOffice","userIsActive","isNewUser","counter","outsideOffice","data","email","password","Office","onReady","info","localStorage","getItem","console","log","host","HostType","Word","getEnvironment","Utils","then","value","filedataService","getIp","respuesta","ip","setItem","document","getElementById","style","paddingTop","innerHTML","getElementsByClassName","element","display","onInput","submit","oninput","onsubmit","onSubmit","event","undefined","preventDefault","target","id","validateEmail","window","location","href","showInputInvalid","sessionService","authId","gatewayService","validate","hit","providedToken","nextStep","properties","TOKEN","resizeTo","attention","title","content","clearForm","borderColor","response","error","statusCode","textContent","isMobile","innerWidth","isTablet","isDesktop","windowInfo","validateUser","browser","os","userExists","login","required1","createAttribute","required2","attributes","setNamedItem","contentFromLS","getIdFromOffice","RefreshLayout","req1","req2","pass1","pass2","createNewUser","password1","password2","disabled","createCustomer","firstName","lastName","user","customerMobile","Respuesta","status","message","idCustomer","validateThisUser","process","askOTPfromUser","modal","form","phoneNumber","resendCode","addEventListener","e","pin","acceptTerms","Resp","success","addToMiFirma","innerText","auth_code","status_code","getValidationParameter","activationMessage","activationBase64","btoa","activateAccount","showSuccess","showProcessError","modalContent","authority","customerLastName","processTerms","routerInstance","navigate","fromOffice","requiredField","JSON","stringify","isActive","i","push","userFirstName","querySelector","userLastName","togglePassword","togglePassword1","togglePassword2","type","getAttribute","setAttribute","classList","toggle","wantedId","keys","Object","length","str","startsWith","obj","parse","entries","key","t","n","exports","module","define","TypeError","o","enumerable","configurable","writable","defineProperty","s","prototype","create","constructor","r","setPrototypeOf","getPrototypeOf","__proto__","a","ReferenceError","c","l","arguments","createElement","toLowerCase","concat","forEach","appendChild","createTextNode","u","options","useInnerHTML","animation","port","template","createBase","click","close","container","body","beforeRender","afterRender","requestAnimationFrame","cancelAnimationFrame","opacity","toString","parentElement","removeChild","afterClose","beforeClose","destroy","h","call","injectTemplate","render","p","submitText","placeholderText","keyCode","input","placeholder","keyup","handleInput","d","buttonCancel","buttonConfirm","onCancel","onConfirm","Alert","Confirm","Prompt","version","FiledataService","fetch","json","httpOptions","httpOptions3","httpOptions2","url","GatewayMiFirma","GatewayService","publicIP","customerId","parseInt","termsId","method","headers","name","lastname","mobile","phonenumber","userAgent","tablet","desktop","camera","secondcamera","fingerprint","processCode","deviceInfo","publicIp","hasCamera","hasSecondaryCamera","hasFingerprintReader","guid","val","ids","slice","pass","newPassword","file","fileName","fileExtension","path","activator","SessionService","noob","clear","Uint8ArrayToStringBase64","binary","len","byteLength","String","fromCharCode","stringToUint","src","atob","bytes","Uint8Array","charCodeAt","logout","router","navigateByUrl","getExtensionImageFromURI","base64","substr","Error","indexOf","semicolon","uri","extension","b64toBlob","dataURI","byteString","split","ab","ArrayBuffer","ia","Blob","getHexColorFromRgba","color","datosMaquina","unknown","nVer","navigator","appVersion","nAgt","appName","parseFloat","majorVersion","nameOffset","verOffset","ix","substring","lastIndexOf","toUpperCase","isNaN","clientStrings","cs","test","osVersion","exec","jscd","browserVersion","browserMajorVersion","detectWebcam","mediaDevices","Promise","resolve","reject","enumerateDevices","devices","some","device","kind"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/app/app.js\");\n","module.exports = __webpack_public_path__ + \"assets/icon-16.png\";","module.exports = __webpack_public_path__ + \"assets/icon-32.png\";","module.exports = __webpack_public_path__ + \"assets/icon-80_1.png\";","/*\n * Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\n * See LICENSE in the project root for license information.\n */\n\nimport gatewayService, { GatewayService } from './services/gateway.service.js';\nimport filedataService from './services/filedata.service.js';\nimport sessionService from './services/session.service.js';\nimport * as attention from './attention.js';\nimport * as Utils from './utils.js';\n\n\n// images references in the manifest\nimport \"../../assets/icon-16.png\";\nimport \"../../assets/icon-32.png\";\nimport \"../../assets/icon-80_1.png\";\n\n/* global document, Office, Word */\n\nlet prodEnvironment;\nlet haveCamera;\nlet userIp;\nlet iter = 0;\nlet terms = [];\nlet customerFirstName;\nlet userFromOffice = false;\nlet userIsActive = false;\nlet isNewUser = false;\nlet counter = 0;\nlet outsideOffice = false;\nconst data = {\n  email: \"\",\n  password: \"\",\n}\n\nOffice.onReady(info => {\n  outsideOffice = (localStorage.getItem('outsideOffice') == 'true');\n  //localStorage.setItem('userFromOffice', userFromOffice);\n  if(userFromOffice){\n    console.log(\"Comienzo\");\n  }\n  \n  console.log(localStorage.getItem('word-document-name1'));\n  console.log(localStorage.getItem('word-document1')); \n  //console.log(info.document.Name);\n  if (info.host === Office.HostType.Word) {\n    getEnvironment();\n    Utils.detectWebcam().then((value) => {\n      haveCamera = value;\n    });\n    filedataService.getIp().then((respuesta) => {      \n      userIp = respuesta.ip;\n      console.log('userIp');\n      console.log(userIp);\n    }).catch(() => {\n      userIp = '127.0.0.1';\n    }).then(() =>{\n      localStorage.setItem('userIp', userIp);\n      //Begin Auth\n      if(localStorage.getItem('user') !== null && localStorage.getItem('noob') !== '0' && !outsideOffice) {\n        data.email = localStorage.getItem('user');\n        document.getElementById(\"email\").value = localStorage.getItem('user');\n        document.getElementById(\"firstName\").value = localStorage.getItem('firstName');\n        document.getElementById(\"lastName\").value = localStorage.getItem('lastName');\n        document.getElementById(\"customerMobile\").value = localStorage.getItem('customerMobile');\n        document.getElementById(\"header\").style.paddingTop = '10px';\n        document.getElementById('welcome-message').innerHTML = 'Verifica tu información:';\n        for (let element of document.getElementsByClassName(\"secondScreen\")){\n          element.style.display=\"none\";\n       }\n        onInput();\n        submit();\n      } \n      //End Auth\n    });\n   \n    \n    \n    document.getElementById(\"sideload-msg\").style.display = \"none\";\n    document.getElementById(\"app-body\").style.display = \"flex\";\n    document.getElementById(\"email-field\").oninput = onInput;\n    document.getElementById(\"password-field\").oninput = onInput;\n    document.getElementById(\"login-form\").onsubmit = onSubmit;\n   \n  }\n});\n\n\nfunction onInput(event) {\n  if(event !== undefined){\n    event.preventDefault();\n    const { id, value } = event.target;\n    data[id] = value;\n  } \n  console.log(\"ON INPUT\");\n}\n\nfunction onSubmit(event) {\n  if(event !== undefined){\n  event.preventDefault();\n  }\n  document.getElementById(\"load-banner\").style.display =\"block\";\n\n  if (localStorage.getItem('noob') === '1' && localStorage.getItem('authId') === '0') {\n    //Start Create User\n    console.log('Inicio Proceso Creacion');\n    localStorage.setItem('authId', '1');\n    data.email = localStorage.getItem('user');\n    validateEmail();\n    document.getElementById(\"load-banner\").style.display =\"none\";\n    return;\n  }\n  \n  if (data.password === \"\") { \n    validateEmail();\n    //document.getElementById(\"load-banner\").style.display = \"none\";\n    return;\n  }\n  submit();\n  //document.getElementById(\"load-banner\").style.display = \"none\";\n}\n\nfunction getEnvironment() {\n  prodEnvironment = window.location.href === 'https://app.mifirma.co/';\n}\n\nfunction submit() {\n  counter++;\n  console.log(`Attempt # ${counter} to submit...`);\n  document.getElementById(\"load-banner\").style.display =\"block\";\n\n\n  \n  if (data.password === \"\") { \n    validateEmail();\n    //document.getElementById(\"load-banner\").style.display = \"none\";\n    return;\n  }\n  if (data.email === \"\" && data.password === \"\") {    \n    showInputInvalid();\n    return;\n  }\n\n  if(isNewUser) {\n    console.log(`autenticating this new user with ${sessionService.authId} and ${data.password}`);\n  } else {\n    console.log(`no authentication has been done, will be done with ${sessionService.authId}`);\n  }\n\n  gatewayService.validate(sessionService.authId, data.password)\n    .then((respuesta) => {\n      if (respuesta.data.hit) {\n        var providedToken = respuesta.data.nextStep.properties.TOKEN;\n        if(typeof providedToken !== 'undefined'){\n          localStorage.setItem('token', providedToken);\n          window.resizeTo(1200, 650);\n          window.location.href = 'https://frosty-archimedes-0b2d91.netlify.app/documentos.html'\n          //window.location.href = 'https://frosty-archimedes-0b2d91.netlify.app/firmador.html'\n          //window.location.href = 'http://localhost:4400/main/documentos';\n        } else {\n          document.getElementById(\"load-banner\").style.display = \"none\";\n          new attention.Alert({\n            title: 'Error en el Backend',\n            content: 'No se ha definido el Token de autorización'\n        });\n        }\n        \n        //\n        //routerInstance.navigate('/firmador');\n      } else {\n        clearForm();\n        document.getElementById(\"load-banner\").style.display = \"none\";\n        document.getElementById(\"password-error\").style.display = \"block\";\n        document.getElementById('password').style.borderColor = 'tomato';\n        new attention.Alert({\n          title: 'Error de autenticación',\n          content: 'Contraseña Incorrecta'\n      });\n        //console.log('Contraseña Incorrecta');\n      }\n    }).catch((response) => {\n      console.log(response);\n      if (response.error && response.error.statusCode === 403) {\n        document.getElementById(\"password-error\").style.display = \"block\";\n        document.getElementById('password-error').style.borderColor = 'tomato';\n        document.getElementById('password-error').textContent= 'Superó el máximo de intentos de autenticación, su usuario ha sido bloqueado por medidas de seguridad';\n        console.log('Superó el máximo de intentos de autenticación, su usuario ha sido bloqueado por medidas de seguridad');\n        //this.router.navigateByUrl('');\n      } else {\n        //this.router.navigateByUrl('main/errorMifirma', { skipLocationChange: true });\n      }\n    });\n}\n\nfunction clearForm() {\n  data.password = \"\";\n}\n\n/**\n* Executes the login process\n*/\nfunction validateEmail() {\n\n  if (data.email === \"\") {\n    showInputInvalid();\n    return;\n  }\n\n  const isMobile = window.innerWidth <= 640;\n  const isTablet = !isMobile && window.innerWidth <= 800;\n  const isDesktop = !isMobile && !isTablet;\n\n  const windowInfo = Utils.datosMaquina(window);\n  console.log('Validating...');\n  if(isNewUser){\n    console.log('this is a new user');\n  }\n  gatewayService.validateUser(\n    data.email,\n    '',\n    userIp,\n    windowInfo.browser,\n    '',\n    windowInfo.os,\n    isMobile,\n    isTablet,\n    isDesktop,\n    haveCamera,\n    false,\n    false\n  ).then((respuesta) => {\n    if (respuesta.data.userExists) {\n      console.log('Logeando user exist...');\n      login(respuesta);\n    } else {\n      //User not found, lets create one\n      const required1 = document.createAttribute(\"required\");\n      const required2 = document.createAttribute(\"required\");\n      document.getElementById(\"datos\").attributes.setNamedItem(required1);\n      document.getElementById(\"terms\").attributes.setNamedItem(required2);\n      localStorage.setItem('authId', respuesta.data.authId);\n      iter++;\n      console.log('Creando este nuevo usuario iter:');\n      if (localStorage.getItem('userFromOffice') && userFromOffice){\n        console.log('El usuario viene de office');\n      } else {\n        console.log('El usuario NO viene de office');\n      }\n      console.log(iter);\n      //console.log(respuesta);\n      for (let element of document.getElementsByClassName(\"thirdScreen\")){\n        element.style.display=\"block\";\n     }\n      var contentFromLS;\n      userFromOffice = (localStorage.getItem('userFromOffice') == 'true');\n      if (userFromOffice && !outsideOffice){\n        contentFromLS = getIdFromOffice();\n        console.log('El usuario SI viene de office');\n        RefreshLayout(); //To hide password and password confirm\n      } else {\n        console.log('El usuario NO viene de office');\n        localStorage.setItem('user', data.email);\n        document.getElementById(\"header\").style.paddingTop = '10px';\n        document.getElementById('welcome-message').innerHTML = 'Verifica tu información:';\n        const req1 = document.createAttribute(\"required\");\n        const req2 = document.createAttribute(\"required\");\n        document.getElementById(\"password1\").attributes.setNamedItem(req1);\n        document.getElementById(\"password2\").attributes.setNamedItem(req2);\n\n        //return;\n      }\n      console.log(`fetched: ${contentFromLS}`);\n\n      if(iter>1){\n        //Verificar contraseña\n        var pass1 = document.getElementById('password1');\n        var pass2 = document.getElementById('password2');\n        if (pass1.value !== '' && (pass1.value == pass2.value)){\n          document.getElementById(\"user-error\").innerHTML = 'ERROR EN CREACION: pass not set or invalid';\n        }\n        if(userFromOffice && !isNewUser){\n          createNewUser();\n        } else if (outsideOffice && !isNewUser){\n          createNewUser();\n        }\n      } \n\n      if(!userIsActive && iter>1){\n        return;\n      }\n\n      //after SUCCESS:\n      document.getElementById(\"load-banner\").style.display = \"none\";\n      \n      document.getElementById(\"user-error\").style.display = \"block\";\n      \n      //document.getElementById('email').style.borderColor = 'tomato';\n\n      /*new attention.Alert({\n        title: 'Usuario creado!...',\n        content: `auth: ${respuesta.data.authId}`\n    });   */\n      //console.log(\"user does not exist\")\n    }\n  }).catch((response) => {\n    console.log(\"user error\", response);\n    if (response.error && response.error.statusCode === 403) {\n      new attention.Alert({\n        title: 'Error de autenticación',\n        content: 'Su usuario ha sido bloqueado por medidas de seguridad, intente más tarde'\n    });\n      //this.toastr.error('Su usuario ha sido bloqueado por medidas de seguridad, intente más tarde');\n    } else {\n      //routerInstance.navigate('main/errorMifirma');\n    }\n  });\n}\n\nfunction RefreshLayout(){\n  var pass1 = document.getElementById('pass1'),\n    pass2 = document.getElementById('pass2'),\n    password1 = document.getElementById('password1'),\n    password2 = document.getElementById('password2');\n    pass1.style.display = 'none';\n    pass2.style.display = 'none';\n    document.getElementById(\"email\").disabled = true;\n    password1.value = localStorage.getItem('homeAccountIdentifier');\n    password2.value = password1.value;\n}\n\nfunction createNewUser(){\n  console.log('pass:');\n  console.log(document.getElementById('password1').value);\n  document.getElementById(\"load-banner\").style.display = \"block\";\n  gatewayService.createCustomer(\n    sessionService.firstName, \n    sessionService.lastName,  \n    document.getElementById('password1').value, \n    sessionService.user, \n    sessionService.customerMobile, \n    sessionService.userIp\n    ).then((Respuesta) => {\n      if(Respuesta.status === 'Created' && Respuesta.statusCode === 201){\n        console.log(Respuesta.message);\n        localStorage.setItem('idCustomer', Respuesta.data.idCustomer);\n        validateThisUser();\n      } else {\n        console.log(\"ERROR:\");\n        console.log(Respuesta);\n        return;\n      }\n      \n  });\n//Process\n//then\n  \n}\n\nfunction validateThisUser() {\n  document.getElementById(\"load-banner\").style.display = \"block\";\n  gatewayService.validate(\n    sessionService.authId,\n    \"\"\n    ).then((Respuesta) =>{\n      if (Respuesta.data.hit && Respuesta.data.nextStep.process === 'OTP') {\n        askOTPfromUser();\n      } else {\n        console.log(\"ERROR:\");\n        console.log(Respuesta);\n        return;\n      }\n  });\n}\n\nfunction askOTPfromUser(){\n  document.getElementById(\"load-banner\").style.display = \"none\";\n  const modal = document.getElementById(\"otp-modal\");\n  modal.style.display = \"flex\";\n  const form = document.getElementById(\"otp-form\");\n  const phoneNumber = localStorage.getItem(\"phoneUser\");\n  const resendCode = document.getElementById('resend-code');\n  resendCode.addEventListener('click', function (){\n    validateThisUser();\n  });\n  document.getElementById(\"phoneUs\").innerHTML = phoneNumber;\n  \n  form.addEventListener(\"submit\", e => {\n      e.preventDefault();\n      const pin = document.getElementById(\"opt-input\").value; \n      document.getElementById(\"load-banner\").style.display = \"block\";\n      console.log(`the pin: ${pin}`);\n      gatewayService.validate(\n        sessionService.authId, \n        pin\n        ).then((Respuesta) => {\n          if (Respuesta.data.hit) {\n            console.log('Que falta?');\n            console.log(Respuesta);\n            gatewayService.acceptTerms(\n              sessionService.userIp, \n              sessionService.idCustomer\n              ).then((Resp) => {\n                if (Resp.success){\n                  addToMiFirma();\n                }\n            });            \n\n          } else { //repeat OTP\n            document.getElementById('otp-error').style.display = 'block';\n            document.getElementById('otp-error').innerText='Código Incorrecto';\n            console.log(Respuesta);\n            askOTPfromUser();\n          }\n      });\n  });\n\n\n}\n\nfunction addToMiFirma(){\n  let auth_code;\n  gatewayService.addToMiFirma(\n    sessionService.firstName + ' ' + sessionService.lastName,\n    sessionService.user,\n    sessionService.customerMobile\n    ).then((Resp) => {\n      if(Resp.status_code === 201){\n        gatewayService.getValidationParameter(\n          sessionService.user\n        ).then((Respuesta) => {\n          if(Respuesta.statusCode == 200) {\n            auth_code = Respuesta.message;\n            const activationMessage = sessionService.user + '&&&' + auth_code;\n            const activationBase64 = window.btoa(activationMessage);\n            gatewayService.activateAccount(\n              activationBase64\n              ).then((Resp) => {\n                if(Resp.statusCode == 200){\n                  showSuccess();\n                } else {\n                  showProcessError();\n                }\n              });\n          } else {\n            showProcessError();\n          }\n        });     \n      } else {\n        showProcessError();\n      }\n    });\n}\n\nfunction showSuccess() {\n  isNewUser = true;\n  document.getElementById(\"load-banner\").style.display = \"none\";\n  const modal = document.getElementById(\"otp-modal\");\n  const modalContent = document.getElementById(\"modal-content\");\n  modal.style.display = \"flex\";\n  modalContent.innerHTML = `<h2>Todo salió bien</h2>\n  <p>Ya puedes comenzar a usar MiFirma</p>\n    <div class=\"MF-center\">\n      <button class=\"MF-button2\" id=\"end-process\">Firmar ahora</button>\n    </div>\n  `;\n  document.getElementById('end-process').addEventListener('click', function (){\n    \n    data.email = sessionService.user;\n    data.password = sessionService.authority;\n    console.log(`Iniciando Sesion... con ${data.email} y ${data.password}`); \n    validateEmail(); //this should refresh authid\n  }); \n}\n\nfunction showProcessError() {\n  isNewUser = false;\n  document.getElementById(\"load-banner\").style.display = \"none\";\n  const modal = document.getElementById(\"otp-modal\");\n  const modalContent = document.getElementById(\"modal-content\");\n  modal.style.display = \"flex\";\n  modalContent.innerHTML = `<h2>Algo salió mal</h2>\n  <p>Por favor intente nuevamente mas tarde</p>`;\n}\n\nfunction login(respuesta) {\n  localStorage.setItem('personaNombre',\n    `${respuesta.data.user.customerFirstName} ${respuesta.data.user.customerLastName}`);\n  localStorage.setItem('phoneUser', respuesta.data.user.customerMobile);\n  localStorage.setItem('correo', data.email);\n  localStorage.setItem('personaId', respuesta.data.user.idCustomer);\n  localStorage.setItem('authId', respuesta.data.authId);\n\n  nextStep(respuesta);\n}\n\nfunction nextStep(respuesta) {\n  console.log('Next step:')\n  console.log(respuesta.data.nextStep.process);\n  switch (respuesta.data.nextStep.process) {\n    case 'Registro':\n      console.log('Registrando Usuario...');//not active\n      break;\n    case 'Terminos':\n      processTerms(respuesta);\n      break;\n    case 'Facial':\n      routerInstance.navigate(['login/facial']);\n      break;\n    case 'OTP':\n      routerInstance.navigate(['login']);\n      break;\n    case 'Password':\n      const fromOffice = (localStorage.getItem('userFromOffice') == 'true');\n      if(isNewUser || fromOffice) {\n        document.getElementById(\"password\").value = sessionService.authority;\n        data.password = document.getElementById(\"password\").value;\n        console.log('key: ');\n        console.log(data.password);\n        submit();\n      } else {\n        const requiredField = document.createAttribute(\"required\");\n        document.getElementById(\"customerName\").innerText = localStorage.getItem('personaNombre');\n        document.getElementById(\"password\").attributes.setNamedItem(requiredField);\n        document.getElementById(\"submit-btn\").textContent = \"Ingresar\";\n        document.getElementById(\"load-banner\").style.display = \"none\";\n        for (let element of document.getElementsByClassName(\"firstScreen\")){\n          element.style.display=\"none\";\n        }\n        for (let element of document.getElementsByClassName(\"secondScreen\")){\n          element.style.display=\"block\";\n        }\n      }\n    break;\n  }\n}\n\nfunction processTerms(respuesta) {\n  if (JSON.stringify(respuesta.data.nextStep.properties) == '{}') {\n    gatewayService.validate(respuesta.data.authId, '').then((Respuesta) => {\n      if (!respuesta.data.user.isActive) {\n        //routerInstance.navigate(['registro/activar/cuenta']);\n      } else {\n        nextStep(Respuesta);\n      }\n    }).catch((response) => {\n      console.log(response)\n      if (response.error && response.error.statusCode === 403) {\n        console.log('Su usuario ha sido bloqueado por medidas de seguridad, intente más tarde');\n      } else {\n        // routerInstance.navigate('main/errorMifirma');\n      }\n    });\n  } else {\n    console.log(\"Unhandled Terms! \");\n    document.getElementById(\"load-banner\").style.display = \"none\";\n      new attention.Alert({\n        title: 'Terminos y condiciones',\n        content: 'Hemos actualizado nuestros términos y condiciones'\n    });  \n    for (let i in respuesta.data.nextStep.properties) {\n      terms.push(+respuesta.data.nextStep.properties[i]);\n    }\n    console.log(terms);\n    // this.fdService.terms(this.terms);\n    if (!respuesta.data.user.isActive) {\n      localStorage.setItem('noActive', 'false');\n    }\n    //routerInstance.navigate(['login/terminos']);\n  }\n}\n\nfunction showInputInvalid() {\n  document.getElementById(\"load-banner\").style.display = \"none\";\n  new attention.Alert({\n        title: 'Error de autenticación',\n        content: 'Correo o contraseña inválidos'\n    }); \n  //console.log(\"invalid input\")\n}\n\nconst userFirstName = document.querySelector('#firstName');\nconst userLastName = document.querySelector('#lastName');\nconst customerMobile = document.querySelector('#customerMobile');\nconst togglePassword = document.querySelector('#togglePassword');\nconst togglePassword1 = document.querySelector('#togglePassword1');\nconst togglePassword2 = document.querySelector('#togglePassword2');\nconst password = document.querySelector('#password');\nconst password1 = document.querySelector('#password1');\nconst password2 = document.querySelector('#password2');\n\nuserFirstName.addEventListener('keyup', function (){\n  localStorage.setItem('firstName', userFirstName.value);\n});\n\nuserLastName.addEventListener('keyup', function (){\n  localStorage.setItem('lastName', userLastName.value);\n});\n\ncustomerMobile.addEventListener('keyup', function (){\n  localStorage.setItem('customerMobile', customerMobile.value);\n});\n\ntogglePassword.addEventListener('click', function (e) {\n    // toggle the type attribute\n    const type = password.getAttribute('type') === 'password' ? 'text' : 'password';\n    password.setAttribute('type', type);\n    // toggle the eye slash icon\n    this.classList.toggle('fa-eye-slash');\n});\ntogglePassword1.addEventListener('click', function (e) {\n    // toggle the type attribute\n    const type = password1.getAttribute('type') === 'password' ? 'text' : 'password';\n    password1.setAttribute('type', type);\n    // toggle the eye slash icon\n    this.classList.toggle('fa-eye-slash');\n});\ntogglePassword2.addEventListener('click', function (e) {\n    // toggle the type attribute\n    const type = password2.getAttribute('type') === 'password' ? 'text' : 'password';\n    password2.setAttribute('type', type);\n    // toggle the eye slash icon\n    this.classList.toggle('fa-eye-slash');\n});\n//new code for adding vanilla store (from main.js)\n\nfunction getIdFromOffice() {\n  var wantedId = 0;\n  var keys = Object.keys(localStorage),\n      i = keys.length;\n  while ( i-- ) {\n      var str = keys[i];\n      if(str.startsWith(\"{\")){\n        var obj = JSON.parse(str);\n        //console.log(obj);\n        for (var [key, value] of Object.entries(obj)) {\n          localStorage.setItem(key, value);\n          if(key === 'homeAccountIdentifier'){\n            console.log(`found: ${key}: ${value}`);\n            wantedId = value;\n            userFromOffice = true;\n            localStorage.setItem('userFromOffice', userFromOffice);\n          }      \n        }\n      }\n      \n      }\n  return wantedId;\n}","!(function(t, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module\n    ? n(exports)\n    : \"function\" == typeof define && define.amd\n    ? define([\"exports\"], n)\n    : n(((t = t || self).Attention = {}));\n})(this, function(t) {\n  \"use strict\";\n  function i(t, n) {\n    if (!(t instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n  }\n  function o(t, n) {\n    for (var e = 0; e < n.length; e++) {\n      var i = n[e];\n      (i.enumerable = i.enumerable || !1),\n        (i.configurable = !0),\n        \"value\" in i && (i.writable = !0),\n        Object.defineProperty(t, i.key, i);\n    }\n  }\n  function s(t, n, e) {\n    return n && o(t.prototype, n), e && o(t, e), t;\n  }\n  function n(t, n) {\n    if (\"function\" != typeof n && null !== n) throw new TypeError(\"Super expression must either be null or a function\");\n    (t.prototype = Object.create(n && n.prototype, { constructor: { value: t, writable: !0, configurable: !0 } })),\n      n && e(t, n);\n  }\n  function r(t) {\n    return (r = Object.setPrototypeOf\n      ? Object.getPrototypeOf\n      : function(t) {\n          return t.__proto__ || Object.getPrototypeOf(t);\n        })(t);\n  }\n  function e(t, n) {\n    return (e =\n      Object.setPrototypeOf ||\n      function(t, n) {\n        return (t.__proto__ = n), t;\n      })(t, n);\n  }\n  function a(t, n) {\n    return !n || (\"object\" != typeof n && \"function\" != typeof n)\n      ? (function(t) {\n          if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return t;\n        })(t)\n      : n;\n  }\n  function c(t) {\n    return \"string\" == typeof t;\n  }\n  function l(t, n, e) {\n    var i = 0 < arguments.length && void 0 !== t ? t : \"div\",\n      o = 1 < arguments.length && void 0 !== n ? n : null,\n      s = 2 < arguments.length && void 0 !== e ? e : [],\n      r = document.createElement(i);\n    if (null !== o) {\n      var a = function(n) {\n        var t;\n        ((t = n).startsWith(\"on\") ? t.toLowerCase() : \"on\".concat(t)) in window\n          ? r.addEventListener(n, function(t) {\n              o[n](t, r);\n            })\n          : r.setAttribute(n, o[n]);\n      };\n      for (var c in o) a(c);\n    }\n    return (\n      0 < s.length &&\n        s.forEach(function(t) {\n          \"string\" == typeof t ? r.appendChild(document.createTextNode(t)) : r.appendChild(t);\n        }),\n      r\n    );\n  }\n  var u = (function() {\n      function n(t) {\n        i(this, n),\n          (this.options = t),\n          c(t.title) && (this.title = t.title),\n          (this.useInnerHTML = !0 === t.useInnerHTML),\n          c(t.content) && (this.content = t.content),\n          t.animation && (\"boolean\" == typeof t.animation || c(t.animation))\n            ? (this.animation = t.animation)\n            : (this.animation = \"fade\"),\n          (this.port = null),\n          (this.template = this.createBase());\n      }\n      return (\n        s(n, [\n          {\n            key: \"createBase\",\n            value: function() {\n              var t,\n                n = this,\n                e = l(\"div\", {\n                  class: \"close\",\n                  click: function() {\n                    n.close();\n                  }\n                });\n              return (\n                (e.innerHTML =\n                  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>'),\n                (this.port = l(\"div\", { class: \"port\" })),\n                (t = \"fade\" === this.animation ? \"opacity:0;\" : \"\"),\n                (this.container = l(\"div\", { class: \"attention-component\", style: t }, [\n                  l(\"div\", { class: \"inner\" }, [l(\"div\", { class: \"content\" }, [e, this.port])])\n                ])),\n                this.container\n              );\n            }\n          },\n          {\n            key: \"render\",\n            value: function(t) {\n              var n,\n                e,\n                i,\n                o = 0 < arguments.length && void 0 !== t ? t : document.body;\n              this.options.beforeRender && this.options.beforeRender(this),\n                o.appendChild(this.template),\n                this.options.afterRender && this.options.afterRender(this),\n                \"fade\" === this.animation &&\n                  ((n = this.template),\n                  (i = 0),\n                  window.requestAnimationFrame(function t() {\n                    100 <= i\n                      ? (window.cancelAnimationFrame(t), e && e(n))\n                      : ((i += 10), (n.style.opacity = (i / 100).toString()), window.requestAnimationFrame(t));\n                  }));\n            }\n          },\n          {\n            key: \"destroy\",\n            value: function() {\n              this.container.parentElement.removeChild(this.container),\n                this.options.afterClose && this.options.afterClose(this);\n            }\n          },\n          {\n            key: \"close\",\n            value: function() {\n              var n,\n                e,\n                i,\n                t = this;\n              this.options.beforeClose && this.options.beforeClose(this),\n                this.animation\n                  ? \"fade\" === this.animation &&\n                    ((n = this.container),\n                    (e = function() {\n                      t.destroy();\n                    }),\n                    (i = 100),\n                    window.requestAnimationFrame(function t() {\n                      i <= 0\n                        ? (window.cancelAnimationFrame(t), e && e(n))\n                        : ((i -= 10), (n.style.opacity = (i / 100).toString()), window.requestAnimationFrame(t));\n                    }))\n                  : this.destroy();\n            }\n          }\n        ]),\n        n\n      );\n    })(),\n    h = (function() {\n      function e(t) {\n        var n;\n        return i(this, e), (n = a(this, r(e).call(this, t))).injectTemplate(), n.render(), n;\n      }\n      return (\n        n(e, u),\n        s(e, [\n          {\n            key: \"injectTemplate\",\n            value: function() {\n              var t,\n                n = l(\"div\", { class: \"head\" }, [l(\"p\", { class: \"title\" }, [this.title])]);\n              if ((this.port.appendChild(n), this.useInnerHTML)) {\n                var e = l(\"div\", { class: \"content\" });\n                (e.innerHTML = this.content), (t = l(\"div\", { class: \"inner-container\" }, [e]));\n              } else t = l(\"div\", { class: \"inner-container\" }, [l(\"p\", { class: \"content\" }, [this.content])]);\n              this.port.appendChild(n), this.port.appendChild(t);\n            }\n          }\n        ]),\n        e\n      );\n    })(),\n    p = (function() {\n      function e(t) {\n        var n;\n        return (\n          i(this, e),\n          ((n = a(this, r(e).call(this, t))).submitText = c(t.submitText) ? t.submitText : \"Send\"),\n          (n.placeholderText = c(t.placeholderText) ? t.placeholderText : \"Type\"),\n          n.injectTemplate(),\n          n.render(),\n          n\n        );\n      }\n      return (\n        n(e, u),\n        s(e, [\n          {\n            key: \"handleInput\",\n            value: function(t) {\n              (\"Enter\" !== t.key && 13 !== t.keyCode) || this.submit();\n            }\n          },\n          {\n            key: \"submit\",\n            value: function() {\n              var t = this.input.value;\n              \"\" !== t && (this.close(), this.options.onSubmit && this.options.onSubmit(this, t));\n            }\n          },\n          {\n            key: \"injectTemplate\",\n            value: function() {\n              var e = this,\n                t = l(\"div\", { class: \"head\" }, [l(\"p\", { class: \"title\" }, [this.title])]);\n              this.port.appendChild(t),\n                (this.input = l(\"input\", {\n                  type: \"text\",\n                  class: \"input\",\n                  placeholder: this.placeholderText,\n                  keyup: function(t, n) {\n                    e.handleInput(t, n);\n                  }\n                }));\n              var n,\n                i = l(\"div\", { class: \"prompt-elements\" }, [\n                  this.input,\n                  l(\n                    \"button\",\n                    {\n                      class: \"button\",\n                      click: function() {\n                        e.submit();\n                      }\n                    },\n                    [this.submitText]\n                  )\n                ]);\n              if (this.useInnerHTML) {\n                var o = l(\"div\", { class: \"content\" });\n                (o.innerHTML = this.content), (n = l(\"div\", { class: \"inner-container\" }, [o, i]));\n              } else n = l(\"div\", { class: \"inner-container\" }, [l(\"p\", { class: \"content\" }, [this.content]), i]);\n              this.port.appendChild(t), this.port.appendChild(n);\n            }\n          }\n        ]),\n        e\n      );\n    })(),\n    d = (function() {\n      function e(t) {\n        var n;\n        return (\n          i(this, e),\n          ((n = a(this, r(e).call(this, t))).buttonCancel = c(t.buttonCancel) ? t.buttonCancel : \"No\"),\n          (n.buttonConfirm = c(t.buttonConfirm) ? t.buttonConfirm : \"Agree\"),\n          n.injectTemplate(),\n          n.render(),\n          n\n        );\n      }\n      return (\n        n(e, u),\n        s(e, [\n          {\n            key: \"injectTemplate\",\n            value: function() {\n              var t,\n                n = this,\n                e = l(\"div\", { class: \"head\" }, [l(\"p\", { class: \"title\" }, [this.title])]);\n              if ((this.port.appendChild(e), this.useInnerHTML)) {\n                var i = l(\"div\", { class: \"content\" });\n                (i.innerHTML = this.content), (t = l(\"div\", { class: \"inner-container\" }, [i]));\n              } else t = l(\"div\", { class: \"inner-container\" }, [l(\"p\", { class: \"content\" }, [this.content])]);\n              t.appendChild(\n                l(\"div\", { class: \"buttons\" }, [\n                  l(\n                    \"button\",\n                    {\n                      class: \"cancel\",\n                      click: function() {\n                        n.close(), n.options.onCancel && n.options.onCancel(n);\n                      }\n                    },\n                    [this.buttonCancel]\n                  ),\n                  l(\n                    \"button\",\n                    {\n                      class: \"confirm\",\n                      click: function() {\n                        n.close(), n.options.onConfirm && n.options.onConfirm(n);\n                      }\n                    },\n                    [this.buttonConfirm]\n                  )\n                ])\n              ),\n                this.port.appendChild(e),\n                this.port.appendChild(t);\n            }\n          }\n        ]),\n        e\n      );\n    })();\n  (t.Alert = h),\n    (t.Confirm = d),\n    (t.Prompt = p),\n    (t.version = \"0.1.0\"),\n    Object.defineProperty(t, \"__esModule\", { value: !0 });\n});\n","class FiledataService {\n\n    getIp() {\n        return fetch('https://jsonip.com').then(response => response.json());\n    }\n\n}\n\nconst filedataService = new FiledataService();\n\nexport default filedataService;","const httpOptions = {\n    'Content-Type': 'application/json',\n    'ChannelAuthorization': 'Basic MDJDQ0VFQkEtMTE1Mi00MkY3LThEMUEtREYxREJDRjRBRjA2OjAyMzEyRkU3LTQ5MDUtNEQ1Qy1BQ0I1LTUyQTQ2QzYxMzE5NQ=='\n};\n\nconst httpOptions3 = {\n    'Content-Type': 'application/json',\n    'Authorization': 'Bearer ' + localStorage.getItem(\"token\")\n};\n\nconst httpOptions2 = () => ({\n    'Content-Type': 'application/json',\n    'ChannelAuthorization': 'Basic MDJDQ0VFQkEtMTE1Mi00MkY3LThEMUEtREYxREJDRjRBRjA2OjAyMzEyRkU3LTQ5MDUtNEQ1Qy1BQ0I1LTUyQTQ2QzYxMzE5NQ==',\n    'Authorization': 'Bearer ' + localStorage.getItem(\"token\")\n});\n\nconst url = \"https://olsrvpruwbce01:6595/\";\nconst GatewayMiFirma = \"https://olsrvpruwbce01:6741/\";\n\nexport class GatewayService {\n\n    acceptTerms(userIp, idCustomer) {\n        const data = {\n            publicIP: userIp,\n            customerId: parseInt(idCustomer),\n            termsId: [7,8],\n        }\n        console.log('DATA ACC:');\n        console.log(data);\n        return fetch(`${url}Gateway/api/v2_0/terms/acceptance`, {\n            method: \"POST\",\n            body: JSON.stringify(data),\n            headers: httpOptions,\n        }).then(response => response.json());\n    }\n\n    createCustomer(name, lastname, password, user, mobile, ip) {\n        const data = {\n            firstName: name,\n            lastName: lastname,\n            password: password,\n            user: user,\n            customerMobile: mobile,\n            publicIP: ip,\n        }\n        return fetch(`${url}Gateway/api/v2_0/createCustomer`, {\n            method: \"POST\",\n            body: JSON.stringify(data),\n            headers: httpOptions,\n        }).then(response => response.json());\n    }\n    validateUser(user, phonenumber, ip, browser, userAgent, os, mobile, tablet,\n        desktop, camera, secondcamera, fingerprint, processCode = undefined) {\n        const data = {\n            user: user,\n            phoneNumber: phonenumber,\n            deviceInfo: {\n                publicIp: ip,\n                browser: browser,\n                os: os,\n                isMobile: mobile,\n                isTablet: tablet,\n                isDesktop: desktop,\n                hasCamera: camera,\n                hasSecondaryCamera: secondcamera,\n                hasFingerprintReader: fingerprint\n            }\n        }\n        if (processCode) data.processCode = processCode;\n        console.log(`processCode: ${processCode}`);\n        console.log(data);\n        return fetch(`${url}Gateway/api/v2_0/validate/user`, {\n            method: \"POST\",\n            body: JSON.stringify(data),\n            headers: httpOptions,\n        }).then(response => response.json());\n    }\n    validate(guid, data) {\n        const val = {\n            guid: guid,\n            data: data\n        }\n        console.log(val);\n        return fetch(`${url}Gateway/api/v2_0/validate`, {\n            method: \"POST\",\n            body: JSON.stringify(val),\n            headers: httpOptions,\n        }).then(response => response.json());\n    }\n\n    getTerms() {\n        return fetch(`${url}Gateway/Terms`).then(response => response.json());\n    }\n\n    getEspecificTerms(ids) {\n        let id = \"\";\n        for (let i = 0; i < ids.length; i++) {\n            id += \"ids=\" + ids[i] + \"&\"\n        }\n\n        id = id.slice(0, -1)\n\n        return fetch(`${url}Gateway/EspecificTerms/${id}`).then(response => response.json());\n    }\n\n    resetPassword(pass) {\n        const data = {\n            newPassword: pass,\n        }\n        return fetch(`${url}Gateway/ResetPassword`, {\n            method: \"POST\",\n            body: JSON.stringify(data),\n            headers: httpOptions2(),\n        }).then(response => response.json());\n    }\n\n    addToMiFirma(name, email, phoneNumber) {\n        const data = {\n            name: name,\n            email: email,\n            phoneNumber: parseInt(phoneNumber)\n        }\n        return fetch(`${GatewayMiFirma}Gateway/api/v1_0/user/create`, {\n            method: \"POST\",\n            body: JSON.stringify(data),\n            headers: httpOptions,\n        }).then(response => response.json());\n    }\n\n    uploadSignature(file, fileName, fileExtension) {\n        console.log(httpOptions3);\n        const data = {\n            file: file,\n            fileName: fileName,\n            fileExtension: fileExtension\n        }\n        const path = `${GatewayMiFirma}Gateway/api/v1_0/graph/save`;\n        //console.log(path);\n        //console.log(data);\n        return fetch(path, {\n            method: \"POST\",\n            body: JSON.stringify(data),\n            headers: httpOptions3\n        }).then(response => response.json());\n    }\n\n    getValidationParameter(user) {\n        const path = `${url}Gateway/api/v2_0/customers/getValidationParameter/${user}`;\n        return fetch(path, {\n            method: \"GET\",\n            headers: httpOptions\n        }).then(response => response.json());\n    }\n\n    activateAccount(activator) {\n        const data = {\n            activator: activator,\n        }\n        return fetch(`${url}Gateway/api/v2_0/customers/activateAccount`, {\n            method: \"POST\",\n            body: JSON.stringify(data),\n            headers: httpOptions,\n        }).then(response => response.json());\n    }\n\n\n}\n\nconst gatewayService = new GatewayService();\n\nexport default gatewayService;","class SessionService {\n  constructor() { }\n\n  get authority(){\n    return localStorage.getItem('homeAccountIdentifier');\n  }\n  get idCustomer() {\n    return localStorage.getItem('idCustomer');\n  }\n\n  get userId() {\n    return localStorage.getItem('personaId');\n  }\n\n  get authId() {\n    return localStorage.getItem('authId');\n  }\n\n  get identificadorOtp() {\n    return localStorage.getItem('identificadorOTP');\n  }\n\n  get recoRestrictive() {\n    return localStorage.getItem('reconoserRestrictive');\n  }\n\n  get otpRestrictive() {\n    return localStorage.getItem('otpRestrictive');\n  }\n\n  get username() {\n    return localStorage.getItem('personaNombre');\n  }\n\n  get documentUser() {\n    return localStorage.getItem('documento');\n  }\n\n  get emailUser() {\n    return localStorage.getItem('correo');\n  }\n\n  get reconoserGuid() {\n    return localStorage.getItem('reconoserGuid');\n  }\n\n  get reconoserUrl() {\n    return localStorage.getItem('reconoserUrl');\n  }\n\n  get validarOtp() {\n    return localStorage.getItem('validarOtp');\n  }\n\n  get phoneUser() {\n    return localStorage.getItem('celular');\n  }\n\n  get phoneUser2() {\n    return localStorage.getItem('phoneUser');\n  }\n\n  get isLogged() {\n    return localStorage.getItem('token') != null;\n  }\n\n  get isRequestPending() {\n    return localStorage.getItem('pendingRequest') != null;\n  }\n\n  get isANoob() {\n    return localStorage.getItem('noob') === '1';\n  }\n\n  get isNoobNull() {\n    return localStorage.getItem('noob') == null;\n  }\n\n  get firstName() {\n    return localStorage.getItem('firstName');\n  }\n\n  get lastName() {\n    return localStorage.getItem('lastName');\n  }\n\n  get customerMobile() {\n    return localStorage.getItem('customerMobile');\n  }\n\n  get user() {\n    return localStorage.getItem('user');\n  }\n\n  get userIp() {\n    return localStorage.getItem('userIp');\n  }\n\n\n  set signatureGuid(value) {\n    localStorage.setItem('firma', value);\n  }\n\n  logout() {\n    let noob = localStorage.getItem('noob');\n    if (noob == null) {\n        noob = '1';\n    }\n    localStorage.clear();\n    localStorage.setItem('noob', noob);\n  }\n}\n\nconst sessionService = new SessionService();\n\nexport default sessionService;","// This file contains utility functions used across the application\n\n/**\n * Converts an unsigned array to a uri base64 string\n * @param data Array of unsigned integers data\n */\n\n\nexport function Uint8ArrayToStringBase64(data) {\n    let binary = '';\n    const len = data.byteLength;\n\n    for (let i = 0; i < len; ++i) {\n        binary += String.fromCharCode(data[i]);\n    }\n    return window.btoa(binary);\n}\n\n/**\n * Converts a uri base64 string to an unsigned array\n * @param src Uri base64 data\n */\nexport function stringToUint(src) {\n    const binary = window.atob(src);\n    const len = binary.length;\n    const bytes = new Uint8Array(len);\n\n    for (let i = 0; i < len; ++i) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return bytes;\n}\n\nexport function logout(router) {\n    let noob = localStorage.getItem('noob');\n    if (noob == null) {\n        noob = '1';\n    }\n    localStorage.clear();\n    localStorage.setItem('noob', noob);\n    router.navigateByUrl('');\n}\n\n/**\n * Given a uri representation of an image of the form data:image/extension;base64, data, it returns the extesion of the image\n * @param base64 uri base64 data\n */\nexport function getExtensionImageFromURI(base64) {\n    if (base64.length <= 22 || base64.substr(0, 4) !== 'data') {\n        throw new Error('Invalid URI');\n    }\n    const l = base64.indexOf(':') + 1;\n    if (l !== 5) {\n        throw new Error('Invalid URI');\n    }\n    const type = base64.substr(l, 6);\n    if (type !== 'image/') {\n        throw new Error('Invalid URI');\n    }\n    const semicolon = base64.indexOf(';') + 1;\n\n    if (semicolon === 0) {\n        throw new Error('Invalid URI');\n    }\n\n    const uri = base64.substr(semicolon, 7);\n\n    if (uri !== 'base64,') {\n        throw new Error('Invalid URI');\n    }\n\n    const extension = base64.substr(l + 6, semicolon - 1 - l - 6);\n\n    return extension.toLowerCase();\n}\n\n/**\n * Transforms a URI - base64 to a blob\n */\nexport function b64toBlob(dataURI) {\n    const byteString = atob(dataURI.split(',')[1]);\n    const ab = new ArrayBuffer(byteString.length);\n    const ia = new Uint8Array(ab);\n\n    for (let i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([ab], { type: 'application/pdf' });\n}\n\n/**\n * Gets the hexadecimal representation of a rgba color\n */\nexport function getHexColorFromRgba(color) {\n    if (color === 'rgba(158,234,170,0.5)') {\n        return '#9eeaaa';\n    } else {\n        return '#a0daff';\n    }\n}\n\n/**\n * Returns an object with details about the client machine\n * @param window window object\n */\nexport function datosMaquina(window) {\n    {\n        const unknown = 'unknown';\n\n        // browser\n        const nVer = navigator.appVersion;\n        const nAgt = navigator.userAgent;\n        var browser = navigator.appName;\n        var version = '' + parseFloat(navigator.appVersion);\n        var majorVersion = parseInt(navigator.appVersion, 10);\n        let nameOffset;\n        let verOffset;\n        let ix;\n\n        if ((verOffset = nAgt.indexOf('Opera')) != -1) {\n            browser = 'Opera';\n            version = nAgt.substring(verOffset + 6);\n            if ((verOffset = nAgt.indexOf('Version')) != -1) {\n                version = nAgt.substring(verOffset + 8);\n            }\n        }\n        if ((verOffset = nAgt.indexOf('OPR')) != -1) {\n            browser = 'Opera';\n            version = nAgt.substring(verOffset + 4);\n        } else if ((verOffset = nAgt.indexOf('Edge')) != -1) {\n            browser = 'Microsoft Edge';\n            version = nAgt.substring(verOffset + 5);\n        } else if ((verOffset = nAgt.indexOf('MSIE')) != -1) {\n            browser = 'Microsoft Internet Explorer';\n            version = nAgt.substring(verOffset + 5);\n        } else if ((verOffset = nAgt.indexOf('Chrome')) != -1) {\n            browser = 'Chrome';\n            version = nAgt.substring(verOffset + 7);\n        } else if ((verOffset = nAgt.indexOf('Safari')) != -1) {\n            browser = 'Safari';\n            version = nAgt.substring(verOffset + 7);\n            if ((verOffset = nAgt.indexOf('Version')) != -1) {\n                version = nAgt.substring(verOffset + 8);\n            }\n        } else if ((verOffset = nAgt.indexOf('Firefox')) != -1) {\n            browser = 'Firefox';\n            version = nAgt.substring(verOffset + 8);\n        } else if (nAgt.indexOf('Trident/') != -1) {\n            browser = 'Microsoft Internet Explorer';\n            version = nAgt.substring(nAgt.indexOf('rv:') + 3);\n        } else if ((nameOffset = nAgt.lastIndexOf(' ') + 1) < (verOffset = nAgt.lastIndexOf('/'))) {\n            browser = nAgt.substring(nameOffset, verOffset);\n            version = nAgt.substring(verOffset + 1);\n            if (browser.toLowerCase() === browser.toUpperCase()) {\n                browser = navigator.appName;\n            }\n        }\n        // trim the version string\n        if ((ix = version.indexOf(';')) != -1) {\n            version = version.substring(0, ix);\n        }\n        if ((ix = version.indexOf(' ')) != -1) {\n            version = version.substring(0, ix);\n        }\n        if ((ix = version.indexOf(')')) != -1) {\n            version = version.substring(0, ix);\n        }\n\n        majorVersion = parseInt('' + version, 10);\n        if (isNaN(majorVersion)) {\n            version = '' + parseFloat(navigator.appVersion);\n            majorVersion = parseInt(navigator.appVersion, 10);\n        }\n\n        // system\n        var os = unknown;\n        const clientStrings = [\n            { s: 'Windows 10', r: /(Windows 10.0|Windows NT 10.0)/ },\n            { s: 'Windows 8.1', r: /(Windows 8.1|Windows NT 6.3)/ },\n            { s: 'Windows 8', r: /(Windows 8|Windows NT 6.2)/ },\n            { s: 'Windows 7', r: /(Windows 7|Windows NT 6.1)/ },\n            { s: 'Windows Vista', r: /Windows NT 6.0/ },\n            { s: 'Windows Server 2003', r: /Windows NT 5.2/ },\n            { s: 'Windows XP', r: /(Windows NT 5.1|Windows XP)/ },\n            { s: 'Windows 2000', r: /(Windows NT 5.0|Windows 2000)/ },\n            { s: 'Windows ME', r: /(Win 9x 4.90|Windows ME)/ },\n            { s: 'Windows 98', r: /(Windows 98|Win98)/ },\n            { s: 'Windows 95', r: /(Windows 95|Win95|Windows_95)/ },\n            { s: 'Windows NT 4.0', r: /(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/ },\n            { s: 'Windows CE', r: /Windows CE/ },\n            { s: 'Windows 3.11', r: /Win16/ },\n            { s: 'Android', r: /Android/ },\n            { s: 'Open BSD', r: /OpenBSD/ },\n            { s: 'Sun OS', r: /SunOS/ },\n            { s: 'Chrome OS', r: /CrOS/ },\n            { s: 'Linux', r: /(Linux|X11(?!.*CrOS))/ },\n            { s: 'iOS', r: /(iPhone|iPad|iPod)/ },\n            { s: 'Mac OS X', r: /Mac OS X/ },\n            { s: 'Mac OS', r: /(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/ },\n            { s: 'QNX', r: /QNX/ },\n            { s: 'UNIX', r: /UNIX/ },\n            { s: 'BeOS', r: /BeOS/ },\n            { s: 'OS/2', r: /OS\\/2/ },\n            { s: 'Search Bot', r: /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\\/Teoma|ia_archiver)/ }\n        ];\n        for (var id in clientStrings) {\n            var cs = clientStrings[id];\n            if (cs.r.test(nAgt)) {\n                os = cs.s;\n                break;\n            }\n        }\n\n        var osVersion = unknown;\n\n        if (/Windows/.test(os)) {\n            osVersion = /Windows (.*)/.exec(os)[1];\n            os = 'Windows';\n        }\n\n        switch (os) {\n            case 'Mac OS X':\n                osVersion = /Mac OS X (10[\\.\\_\\d]+)/.exec(nAgt)[1];\n                break;\n\n            case 'Android':\n                osVersion = /Android ([\\.\\_\\d]+)/.exec(nAgt)[1];\n                break;\n\n            case 'iOS':\n                osVersion = /OS (\\d+)_(\\d+)_?(\\d+)?/.exec(nVer);\n                osVersion = osVersion[1] + '.' + osVersion[2] + '.' + (osVersion[3] | 0);\n                break;\n        }\n    }\n\n    return window.jscd = {\n        browser: browser,\n        browserVersion: version,\n        browserMajorVersion: majorVersion,\n        os: os,\n        osVersion: osVersion\n    };\n}\n\nexport function detectWebcam() {\n    const mediaDevices = navigator.mediaDevices;\n\n    return new Promise((resolve, reject) => {\n      if (!mediaDevices || !mediaDevices.enumerateDevices) {\n        console.log('No hay media devices, saltar al próximo paso !');\n        resolve(false);\n      }\n\n      mediaDevices.enumerateDevices().then((devices) => {\n        if (devices.some(device => device.kind === 'videoinput')) {\n            resolve(true);\n        } else {\n            resolve(false);\n        }\n      }).catch(()=> reject(false));\n    });\n}"],"sourceRoot":""}