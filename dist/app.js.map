{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app/services/gateway.service.js","webpack:///./src/app/services/session.service.js","webpack:///./src/app/attention.js","webpack:///./src/app/utils.js","webpack:///./src/app/app.js","webpack:///./assets/icon-16.png","webpack:///./assets/icon-32.png","webpack:///./assets/icon-80_1.png","webpack:///./src/app/services/filedata.service.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","httpOptions","httpOptions3","localStorage","getItem","url","gatewayService","userIp","idCustomer","data","publicIP","customerId","parseInt","termsId","console","log","fetch","method","body","JSON","stringify","headers","then","response","json","lastname","password","user","mobile","ip","firstName","lastName","customerMobile","phonenumber","browser","userAgent","os","tablet","desktop","camera","secondcamera","fingerprint","processCode","undefined","phoneNumber","deviceInfo","publicIp","isMobile","isTablet","isDesktop","hasCamera","hasSecondaryCamera","hasFingerprintReader","guid","val","ids","id","length","slice","pass","newPassword","email","file","fileName","fileExtension","path","activator","sessionService","noob","clear","setItem","define","this","TypeError","e","configurable","writable","constructor","setPrototypeOf","__proto__","getPrototypeOf","a","ReferenceError","arguments","document","createElement","startsWith","toLowerCase","concat","window","addEventListener","setAttribute","forEach","appendChild","createTextNode","u","options","title","useInnerHTML","content","animation","port","template","createBase","class","click","close","innerHTML","container","style","beforeRender","afterRender","requestAnimationFrame","cancelAnimationFrame","opacity","toString","parentElement","removeChild","afterClose","beforeClose","destroy","h","injectTemplate","render","submitText","placeholderText","keyCode","submit","input","onSubmit","type","placeholder","keyup","handleInput","buttonCancel","buttonConfirm","onCancel","onConfirm","Alert","Confirm","Prompt","version","Uint8ArrayToStringBase64","binary","len","byteLength","String","fromCharCode","btoa","getHexColorFromRgba","color","datosMaquina","nameOffset","verOffset","ix","nVer","navigator","appVersion","nAgt","appName","parseFloat","majorVersion","indexOf","substring","lastIndexOf","toUpperCase","isNaN","clientStrings","cs","test","osVersion","exec","jscd","browserVersion","browserMajorVersion","detectWebcam","mediaDevices","Promise","resolve","reject","enumerateDevices","devices","some","device","kind","haveCamera","iter","terms","userFromOffice","isNewUser","counter","outsideOffice","onInput","event","preventDefault","target","getElementById","display","validateEmail","authId","validate","respuesta","hit","providedToken","nextStep","properties","TOKEN","resizeTo","location","href","attention","borderColor","error","statusCode","textContent","showInputInvalid","innerWidth","windowInfo","Utils","validateUser","userExists","customerFirstName","customerLastName","login","required1","createAttribute","required2","attributes","setNamedItem","contentFromLS","getElementsByClassName","wantedId","keys","str","obj","parse","entries","getIdFromOffice","pass1","pass2","password1","password2","disabled","RefreshLayout","paddingTop","req1","req2","createNewUser","createCustomer","Respuesta","status","message","validateThisUser","process","askOTPfromUser","form","pin","acceptTerms","Resp","auth_code","success","addToMiFirma","status_code","getValidationParameter","activationMessage","activationBase64","activateAccount","modal","modalContent","authority","showSuccess","showProcessError","innerText","isActive","push","processTerms","routerInstance","navigate","fromOffice","requiredField","Office","onReady","info","host","HostType","Word","filedataService","getIp","oninput","onsubmit","userFirstName","querySelector","userLastName","togglePassword","togglePassword1","togglePassword2","getAttribute","classList","toggle"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 409);\n","const httpOptions = {\r\n    'Content-Type': 'application/json',\r\n    'ChannelAuthorization': 'Basic MDJDQ0VFQkEtMTE1Mi00MkY3LThEMUEtREYxREJDRjRBRjA2OjAyMzEyRkU3LTQ5MDUtNEQ1Qy1BQ0I1LTUyQTQ2QzYxMzE5NQ=='\r\n};\r\n\r\nconst httpOptions3 = {\r\n    'Content-Type': 'application/json',\r\n    'Authorization': 'Bearer ' + localStorage.getItem(\"token\")\r\n};\r\n\r\nconst httpOptions2 = () => ({\r\n    'Content-Type': 'application/json',\r\n    'ChannelAuthorization': 'Basic MDJDQ0VFQkEtMTE1Mi00MkY3LThEMUEtREYxREJDRjRBRjA2OjAyMzEyRkU3LTQ5MDUtNEQ1Qy1BQ0I1LTUyQTQ2QzYxMzE5NQ==',\r\n    'Authorization': 'Bearer ' + localStorage.getItem(\"token\")\r\n});\r\n\r\nconst url = \"https://olsrvpruwbce01:6595/\";\r\nconst GatewayMiFirma = \"https://olsrvpruwbce01:6741/\";\r\n\r\nexport class GatewayService {\r\n\r\n    acceptTerms(userIp, idCustomer) {\r\n        const data = {\r\n            publicIP: userIp,\r\n            customerId: parseInt(idCustomer),\r\n            termsId: [7,8],\r\n        }\r\n        console.log('DATA ACC:');\r\n        console.log(data);\r\n        return fetch(`${url}Gateway/api/v2_0/terms/acceptance`, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(data),\r\n            headers: httpOptions,\r\n        }).then(response => response.json());\r\n    }\r\n\r\n    createCustomer(name, lastname, password, user, mobile, ip) {\r\n        const data = {\r\n            firstName: name,\r\n            lastName: lastname,\r\n            password: password,\r\n            user: user,\r\n            customerMobile: mobile,\r\n            publicIP: ip,\r\n        }\r\n        return fetch(`${url}Gateway/api/v2_0/createCustomer`, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(data),\r\n            headers: httpOptions,\r\n        }).then(response => response.json());\r\n    }\r\n    validateUser(user, phonenumber, ip, browser, userAgent, os, mobile, tablet,\r\n        desktop, camera, secondcamera, fingerprint, processCode = undefined) {\r\n        const data = {\r\n            user: user,\r\n            phoneNumber: phonenumber,\r\n            deviceInfo: {\r\n                publicIp: ip,\r\n                browser: browser,\r\n                os: os,\r\n                isMobile: mobile,\r\n                isTablet: tablet,\r\n                isDesktop: desktop,\r\n                hasCamera: camera,\r\n                hasSecondaryCamera: secondcamera,\r\n                hasFingerprintReader: fingerprint\r\n            }\r\n        }\r\n        if (processCode) data.processCode = processCode;\r\n        console.log(`processCode: ${processCode}`);\r\n        console.log(data);\r\n        return fetch(`${url}Gateway/api/v2_0/validate/user`, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(data),\r\n            headers: httpOptions,\r\n        }).then(response => response.json());\r\n    }\r\n    validate(guid, data) {\r\n        const val = {\r\n            guid: guid,\r\n            data: data\r\n        }\r\n        console.log(val);\r\n        return fetch(`${url}Gateway/api/v2_0/validate`, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(val),\r\n            headers: httpOptions,\r\n        }).then(response => response.json());\r\n    }\r\n\r\n    getTerms() {\r\n        return fetch(`${url}Gateway/Terms`).then(response => response.json());\r\n    }\r\n\r\n    getEspecificTerms(ids) {\r\n        let id = \"\";\r\n        for (let i = 0; i < ids.length; i++) {\r\n            id += \"ids=\" + ids[i] + \"&\"\r\n        }\r\n\r\n        id = id.slice(0, -1)\r\n\r\n        return fetch(`${url}Gateway/EspecificTerms/${id}`).then(response => response.json());\r\n    }\r\n\r\n    resetPassword(pass) {\r\n        const data = {\r\n            newPassword: pass,\r\n        }\r\n        return fetch(`${url}Gateway/ResetPassword`, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(data),\r\n            headers: httpOptions2(),\r\n        }).then(response => response.json());\r\n    }\r\n\r\n    addToMiFirma(name, email, phoneNumber) {\r\n        const data = {\r\n            name: name,\r\n            email: email,\r\n            phoneNumber: parseInt(phoneNumber)\r\n        }\r\n        return fetch(`${GatewayMiFirma}Gateway/api/v1_0/user/create`, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(data),\r\n            headers: httpOptions,\r\n        }).then(response => response.json());\r\n    }\r\n\r\n    uploadSignature(file, fileName, fileExtension) {\r\n        console.log(httpOptions3);\r\n        const data = {\r\n            file: file,\r\n            fileName: fileName,\r\n            fileExtension: fileExtension\r\n        }\r\n        const path = `${GatewayMiFirma}Gateway/api/v1_0/graph/save`;\r\n        //console.log(path);\r\n        //console.log(data);\r\n        return fetch(path, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(data),\r\n            headers: httpOptions3\r\n        }).then(response => response.json());\r\n    }\r\n\r\n    getValidationParameter(user) {\r\n        const path = `${url}Gateway/api/v2_0/customers/getValidationParameter/${user}`;\r\n        return fetch(path, {\r\n            method: \"GET\",\r\n            headers: httpOptions\r\n        }).then(response => response.json());\r\n    }\r\n\r\n    activateAccount(activator) {\r\n        const data = {\r\n            activator: activator,\r\n        }\r\n        return fetch(`${url}Gateway/api/v2_0/customers/activateAccount`, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(data),\r\n            headers: httpOptions,\r\n        }).then(response => response.json());\r\n    }\r\n\r\n\r\n}\r\n\r\nconst gatewayService = new GatewayService();\r\n\r\nexport default gatewayService;","class SessionService {\r\n  constructor() { }\r\n\r\n  get authority(){\r\n    return localStorage.getItem('homeAccountIdentifier');\r\n  }\r\n  get idCustomer() {\r\n    return localStorage.getItem('idCustomer');\r\n  }\r\n\r\n  get userId() {\r\n    return localStorage.getItem('personaId');\r\n  }\r\n\r\n  get authId() {\r\n    return localStorage.getItem('authId');\r\n  }\r\n\r\n  get identificadorOtp() {\r\n    return localStorage.getItem('identificadorOTP');\r\n  }\r\n\r\n  get recoRestrictive() {\r\n    return localStorage.getItem('reconoserRestrictive');\r\n  }\r\n\r\n  get otpRestrictive() {\r\n    return localStorage.getItem('otpRestrictive');\r\n  }\r\n\r\n  get username() {\r\n    return localStorage.getItem('personaNombre');\r\n  }\r\n\r\n  get documentUser() {\r\n    return localStorage.getItem('documento');\r\n  }\r\n\r\n  get emailUser() {\r\n    return localStorage.getItem('correo');\r\n  }\r\n\r\n  get reconoserGuid() {\r\n    return localStorage.getItem('reconoserGuid');\r\n  }\r\n\r\n  get reconoserUrl() {\r\n    return localStorage.getItem('reconoserUrl');\r\n  }\r\n\r\n  get validarOtp() {\r\n    return localStorage.getItem('validarOtp');\r\n  }\r\n\r\n  get phoneUser() {\r\n    return localStorage.getItem('celular');\r\n  }\r\n\r\n  get phoneUser2() {\r\n    return localStorage.getItem('phoneUser');\r\n  }\r\n\r\n  get isLogged() {\r\n    return localStorage.getItem('token') != null;\r\n  }\r\n\r\n  get isRequestPending() {\r\n    return localStorage.getItem('pendingRequest') != null;\r\n  }\r\n\r\n  get isANoob() {\r\n    return localStorage.getItem('noob') === '1';\r\n  }\r\n\r\n  get isNoobNull() {\r\n    return localStorage.getItem('noob') == null;\r\n  }\r\n\r\n  get firstName() {\r\n    return localStorage.getItem('firstName');\r\n  }\r\n\r\n  get lastName() {\r\n    return localStorage.getItem('lastName');\r\n  }\r\n\r\n  get customerMobile() {\r\n    return localStorage.getItem('customerMobile');\r\n  }\r\n\r\n  get user() {\r\n    return localStorage.getItem('user');\r\n  }\r\n\r\n  get userIp() {\r\n    return localStorage.getItem('userIp');\r\n  }\r\n\r\n\r\n  set signatureGuid(value) {\r\n    localStorage.setItem('firma', value);\r\n  }\r\n\r\n  logout() {\r\n    let noob = localStorage.getItem('noob');\r\n    if (noob == null) {\r\n        noob = '1';\r\n    }\r\n    localStorage.clear();\r\n    localStorage.setItem('noob', noob);\r\n  }\r\n}\r\n\r\nconst sessionService = new SessionService();\r\n\r\nexport default sessionService;","!(function(t, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module\n    ? n(exports)\n    : \"function\" == typeof define && define.amd\n    ? define([\"exports\"], n)\n    : n(((t = t || self).Attention = {}));\n})(this, function(t) {\n  \"use strict\";\n  function i(t, n) {\n    if (!(t instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n  }\n  function o(t, n) {\n    for (var e = 0; e < n.length; e++) {\n      var i = n[e];\n      (i.enumerable = i.enumerable || !1),\n        (i.configurable = !0),\n        \"value\" in i && (i.writable = !0),\n        Object.defineProperty(t, i.key, i);\n    }\n  }\n  function s(t, n, e) {\n    return n && o(t.prototype, n), e && o(t, e), t;\n  }\n  function n(t, n) {\n    if (\"function\" != typeof n && null !== n) throw new TypeError(\"Super expression must either be null or a function\");\n    (t.prototype = Object.create(n && n.prototype, { constructor: { value: t, writable: !0, configurable: !0 } })),\n      n && e(t, n);\n  }\n  function r(t) {\n    return (r = Object.setPrototypeOf\n      ? Object.getPrototypeOf\n      : function(t) {\n          return t.__proto__ || Object.getPrototypeOf(t);\n        })(t);\n  }\n  function e(t, n) {\n    return (e =\n      Object.setPrototypeOf ||\n      function(t, n) {\n        return (t.__proto__ = n), t;\n      })(t, n);\n  }\n  function a(t, n) {\n    return !n || (\"object\" != typeof n && \"function\" != typeof n)\n      ? (function(t) {\n          if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return t;\n        })(t)\n      : n;\n  }\n  function c(t) {\n    return \"string\" == typeof t;\n  }\n  function l(t, n, e) {\n    var i = 0 < arguments.length && void 0 !== t ? t : \"div\",\n      o = 1 < arguments.length && void 0 !== n ? n : null,\n      s = 2 < arguments.length && void 0 !== e ? e : [],\n      r = document.createElement(i);\n    if (null !== o) {\n      var a = function(n) {\n        var t;\n        ((t = n).startsWith(\"on\") ? t.toLowerCase() : \"on\".concat(t)) in window\n          ? r.addEventListener(n, function(t) {\n              o[n](t, r);\n            })\n          : r.setAttribute(n, o[n]);\n      };\n      for (var c in o) a(c);\n    }\n    return (\n      0 < s.length &&\n        s.forEach(function(t) {\n          \"string\" == typeof t ? r.appendChild(document.createTextNode(t)) : r.appendChild(t);\n        }),\n      r\n    );\n  }\n  var u = (function() {\n      function n(t) {\n        i(this, n),\n          (this.options = t),\n          c(t.title) && (this.title = t.title),\n          (this.useInnerHTML = !0 === t.useInnerHTML),\n          c(t.content) && (this.content = t.content),\n          t.animation && (\"boolean\" == typeof t.animation || c(t.animation))\n            ? (this.animation = t.animation)\n            : (this.animation = \"fade\"),\n          (this.port = null),\n          (this.template = this.createBase());\n      }\n      return (\n        s(n, [\n          {\n            key: \"createBase\",\n            value: function() {\n              var t,\n                n = this,\n                e = l(\"div\", {\n                  class: \"close\",\n                  click: function() {\n                    n.close();\n                  }\n                });\n              return (\n                (e.innerHTML =\n                  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>'),\n                (this.port = l(\"div\", { class: \"port\" })),\n                (t = \"fade\" === this.animation ? \"opacity:0;\" : \"\"),\n                (this.container = l(\"div\", { class: \"attention-component\", style: t }, [\n                  l(\"div\", { class: \"inner\" }, [l(\"div\", { class: \"content\" }, [e, this.port])])\n                ])),\n                this.container\n              );\n            }\n          },\n          {\n            key: \"render\",\n            value: function(t) {\n              var n,\n                e,\n                i,\n                o = 0 < arguments.length && void 0 !== t ? t : document.body;\n              this.options.beforeRender && this.options.beforeRender(this),\n                o.appendChild(this.template),\n                this.options.afterRender && this.options.afterRender(this),\n                \"fade\" === this.animation &&\n                  ((n = this.template),\n                  (i = 0),\n                  window.requestAnimationFrame(function t() {\n                    100 <= i\n                      ? (window.cancelAnimationFrame(t), e && e(n))\n                      : ((i += 10), (n.style.opacity = (i / 100).toString()), window.requestAnimationFrame(t));\n                  }));\n            }\n          },\n          {\n            key: \"destroy\",\n            value: function() {\n              this.container.parentElement.removeChild(this.container),\n                this.options.afterClose && this.options.afterClose(this);\n            }\n          },\n          {\n            key: \"close\",\n            value: function() {\n              var n,\n                e,\n                i,\n                t = this;\n              this.options.beforeClose && this.options.beforeClose(this),\n                this.animation\n                  ? \"fade\" === this.animation &&\n                    ((n = this.container),\n                    (e = function() {\n                      t.destroy();\n                    }),\n                    (i = 100),\n                    window.requestAnimationFrame(function t() {\n                      i <= 0\n                        ? (window.cancelAnimationFrame(t), e && e(n))\n                        : ((i -= 10), (n.style.opacity = (i / 100).toString()), window.requestAnimationFrame(t));\n                    }))\n                  : this.destroy();\n            }\n          }\n        ]),\n        n\n      );\n    })(),\n    h = (function() {\n      function e(t) {\n        var n;\n        return i(this, e), (n = a(this, r(e).call(this, t))).injectTemplate(), n.render(), n;\n      }\n      return (\n        n(e, u),\n        s(e, [\n          {\n            key: \"injectTemplate\",\n            value: function() {\n              var t,\n                n = l(\"div\", { class: \"head\" }, [l(\"p\", { class: \"title\" }, [this.title])]);\n              if ((this.port.appendChild(n), this.useInnerHTML)) {\n                var e = l(\"div\", { class: \"content\" });\n                (e.innerHTML = this.content), (t = l(\"div\", { class: \"inner-container\" }, [e]));\n              } else t = l(\"div\", { class: \"inner-container\" }, [l(\"p\", { class: \"content\" }, [this.content])]);\n              this.port.appendChild(n), this.port.appendChild(t);\n            }\n          }\n        ]),\n        e\n      );\n    })(),\n    p = (function() {\n      function e(t) {\n        var n;\n        return (\n          i(this, e),\n          ((n = a(this, r(e).call(this, t))).submitText = c(t.submitText) ? t.submitText : \"Send\"),\n          (n.placeholderText = c(t.placeholderText) ? t.placeholderText : \"Type\"),\n          n.injectTemplate(),\n          n.render(),\n          n\n        );\n      }\n      return (\n        n(e, u),\n        s(e, [\n          {\n            key: \"handleInput\",\n            value: function(t) {\n              (\"Enter\" !== t.key && 13 !== t.keyCode) || this.submit();\n            }\n          },\n          {\n            key: \"submit\",\n            value: function() {\n              var t = this.input.value;\n              \"\" !== t && (this.close(), this.options.onSubmit && this.options.onSubmit(this, t));\n            }\n          },\n          {\n            key: \"injectTemplate\",\n            value: function() {\n              var e = this,\n                t = l(\"div\", { class: \"head\" }, [l(\"p\", { class: \"title\" }, [this.title])]);\n              this.port.appendChild(t),\n                (this.input = l(\"input\", {\n                  type: \"text\",\n                  class: \"input\",\n                  placeholder: this.placeholderText,\n                  keyup: function(t, n) {\n                    e.handleInput(t, n);\n                  }\n                }));\n              var n,\n                i = l(\"div\", { class: \"prompt-elements\" }, [\n                  this.input,\n                  l(\n                    \"button\",\n                    {\n                      class: \"button\",\n                      click: function() {\n                        e.submit();\n                      }\n                    },\n                    [this.submitText]\n                  )\n                ]);\n              if (this.useInnerHTML) {\n                var o = l(\"div\", { class: \"content\" });\n                (o.innerHTML = this.content), (n = l(\"div\", { class: \"inner-container\" }, [o, i]));\n              } else n = l(\"div\", { class: \"inner-container\" }, [l(\"p\", { class: \"content\" }, [this.content]), i]);\n              this.port.appendChild(t), this.port.appendChild(n);\n            }\n          }\n        ]),\n        e\n      );\n    })(),\n    d = (function() {\n      function e(t) {\n        var n;\n        return (\n          i(this, e),\n          ((n = a(this, r(e).call(this, t))).buttonCancel = c(t.buttonCancel) ? t.buttonCancel : \"No\"),\n          (n.buttonConfirm = c(t.buttonConfirm) ? t.buttonConfirm : \"Agree\"),\n          n.injectTemplate(),\n          n.render(),\n          n\n        );\n      }\n      return (\n        n(e, u),\n        s(e, [\n          {\n            key: \"injectTemplate\",\n            value: function() {\n              var t,\n                n = this,\n                e = l(\"div\", { class: \"head\" }, [l(\"p\", { class: \"title\" }, [this.title])]);\n              if ((this.port.appendChild(e), this.useInnerHTML)) {\n                var i = l(\"div\", { class: \"content\" });\n                (i.innerHTML = this.content), (t = l(\"div\", { class: \"inner-container\" }, [i]));\n              } else t = l(\"div\", { class: \"inner-container\" }, [l(\"p\", { class: \"content\" }, [this.content])]);\n              t.appendChild(\n                l(\"div\", { class: \"buttons\" }, [\n                  l(\n                    \"button\",\n                    {\n                      class: \"cancel\",\n                      click: function() {\n                        n.close(), n.options.onCancel && n.options.onCancel(n);\n                      }\n                    },\n                    [this.buttonCancel]\n                  ),\n                  l(\n                    \"button\",\n                    {\n                      class: \"confirm\",\n                      click: function() {\n                        n.close(), n.options.onConfirm && n.options.onConfirm(n);\n                      }\n                    },\n                    [this.buttonConfirm]\n                  )\n                ])\n              ),\n                this.port.appendChild(e),\n                this.port.appendChild(t);\n            }\n          }\n        ]),\n        e\n      );\n    })();\n  (t.Alert = h),\n    (t.Confirm = d),\n    (t.Prompt = p),\n    (t.version = \"0.1.0\"),\n    Object.defineProperty(t, \"__esModule\", { value: !0 });\n});\n","// This file contains utility functions used across the application\r\n\r\n/**\r\n * Converts an unsigned array to a uri base64 string\r\n * @param data Array of unsigned integers data\r\n */\r\n\r\n\r\nexport function Uint8ArrayToStringBase64(data) {\r\n    let binary = '';\r\n    const len = data.byteLength;\r\n\r\n    for (let i = 0; i < len; ++i) {\r\n        binary += String.fromCharCode(data[i]);\r\n    }\r\n    return window.btoa(binary);\r\n}\r\n\r\n/**\r\n * Converts a uri base64 string to an unsigned array\r\n * @param src Uri base64 data\r\n */\r\nexport function stringToUint(src) {\r\n    const binary = window.atob(src);\r\n    const len = binary.length;\r\n    const bytes = new Uint8Array(len);\r\n\r\n    for (let i = 0; i < len; ++i) {\r\n        bytes[i] = binary.charCodeAt(i);\r\n    }\r\n    return bytes;\r\n}\r\n\r\nexport function logout(router) {\r\n    let noob = localStorage.getItem('noob');\r\n    if (noob == null) {\r\n        noob = '1';\r\n    }\r\n    localStorage.clear();\r\n    localStorage.setItem('noob', noob);\r\n    router.navigateByUrl('');\r\n}\r\n\r\n/**\r\n * Given a uri representation of an image of the form data:image/extension;base64, data, it returns the extesion of the image\r\n * @param base64 uri base64 data\r\n */\r\nexport function getExtensionImageFromURI(base64) {\r\n    if (base64.length <= 22 || base64.substr(0, 4) !== 'data') {\r\n        throw new Error('Invalid URI');\r\n    }\r\n    const l = base64.indexOf(':') + 1;\r\n    if (l !== 5) {\r\n        throw new Error('Invalid URI');\r\n    }\r\n    const type = base64.substr(l, 6);\r\n    if (type !== 'image/') {\r\n        throw new Error('Invalid URI');\r\n    }\r\n    const semicolon = base64.indexOf(';') + 1;\r\n\r\n    if (semicolon === 0) {\r\n        throw new Error('Invalid URI');\r\n    }\r\n\r\n    const uri = base64.substr(semicolon, 7);\r\n\r\n    if (uri !== 'base64,') {\r\n        throw new Error('Invalid URI');\r\n    }\r\n\r\n    const extension = base64.substr(l + 6, semicolon - 1 - l - 6);\r\n\r\n    return extension.toLowerCase();\r\n}\r\n\r\n/**\r\n * Transforms a URI - base64 to a blob\r\n */\r\nexport function b64toBlob(dataURI) {\r\n    const byteString = atob(dataURI.split(',')[1]);\r\n    const ab = new ArrayBuffer(byteString.length);\r\n    const ia = new Uint8Array(ab);\r\n\r\n    for (let i = 0; i < byteString.length; i++) {\r\n        ia[i] = byteString.charCodeAt(i);\r\n    }\r\n    return new Blob([ab], { type: 'application/pdf' });\r\n}\r\n\r\n/**\r\n * Gets the hexadecimal representation of a rgba color\r\n */\r\nexport function getHexColorFromRgba(color) {\r\n    if (color === 'rgba(158,234,170,0.5)') {\r\n        return '#9eeaaa';\r\n    } else {\r\n        return '#a0daff';\r\n    }\r\n}\r\n\r\n/**\r\n * Returns an object with details about the client machine\r\n * @param window window object\r\n */\r\nexport function datosMaquina(window) {\r\n    {\r\n        const unknown = 'unknown';\r\n\r\n        // browser\r\n        const nVer = navigator.appVersion;\r\n        const nAgt = navigator.userAgent;\r\n        var browser = navigator.appName;\r\n        var version = '' + parseFloat(navigator.appVersion);\r\n        var majorVersion = parseInt(navigator.appVersion, 10);\r\n        let nameOffset;\r\n        let verOffset;\r\n        let ix;\r\n\r\n        if ((verOffset = nAgt.indexOf('Opera')) != -1) {\r\n            browser = 'Opera';\r\n            version = nAgt.substring(verOffset + 6);\r\n            if ((verOffset = nAgt.indexOf('Version')) != -1) {\r\n                version = nAgt.substring(verOffset + 8);\r\n            }\r\n        }\r\n        if ((verOffset = nAgt.indexOf('OPR')) != -1) {\r\n            browser = 'Opera';\r\n            version = nAgt.substring(verOffset + 4);\r\n        } else if ((verOffset = nAgt.indexOf('Edge')) != -1) {\r\n            browser = 'Microsoft Edge';\r\n            version = nAgt.substring(verOffset + 5);\r\n        } else if ((verOffset = nAgt.indexOf('MSIE')) != -1) {\r\n            browser = 'Microsoft Internet Explorer';\r\n            version = nAgt.substring(verOffset + 5);\r\n        } else if ((verOffset = nAgt.indexOf('Chrome')) != -1) {\r\n            browser = 'Chrome';\r\n            version = nAgt.substring(verOffset + 7);\r\n        } else if ((verOffset = nAgt.indexOf('Safari')) != -1) {\r\n            browser = 'Safari';\r\n            version = nAgt.substring(verOffset + 7);\r\n            if ((verOffset = nAgt.indexOf('Version')) != -1) {\r\n                version = nAgt.substring(verOffset + 8);\r\n            }\r\n        } else if ((verOffset = nAgt.indexOf('Firefox')) != -1) {\r\n            browser = 'Firefox';\r\n            version = nAgt.substring(verOffset + 8);\r\n        } else if (nAgt.indexOf('Trident/') != -1) {\r\n            browser = 'Microsoft Internet Explorer';\r\n            version = nAgt.substring(nAgt.indexOf('rv:') + 3);\r\n        } else if ((nameOffset = nAgt.lastIndexOf(' ') + 1) < (verOffset = nAgt.lastIndexOf('/'))) {\r\n            browser = nAgt.substring(nameOffset, verOffset);\r\n            version = nAgt.substring(verOffset + 1);\r\n            if (browser.toLowerCase() === browser.toUpperCase()) {\r\n                browser = navigator.appName;\r\n            }\r\n        }\r\n        // trim the version string\r\n        if ((ix = version.indexOf(';')) != -1) {\r\n            version = version.substring(0, ix);\r\n        }\r\n        if ((ix = version.indexOf(' ')) != -1) {\r\n            version = version.substring(0, ix);\r\n        }\r\n        if ((ix = version.indexOf(')')) != -1) {\r\n            version = version.substring(0, ix);\r\n        }\r\n\r\n        majorVersion = parseInt('' + version, 10);\r\n        if (isNaN(majorVersion)) {\r\n            version = '' + parseFloat(navigator.appVersion);\r\n            majorVersion = parseInt(navigator.appVersion, 10);\r\n        }\r\n\r\n        // system\r\n        var os = unknown;\r\n        const clientStrings = [\r\n            { s: 'Windows 10', r: /(Windows 10.0|Windows NT 10.0)/ },\r\n            { s: 'Windows 8.1', r: /(Windows 8.1|Windows NT 6.3)/ },\r\n            { s: 'Windows 8', r: /(Windows 8|Windows NT 6.2)/ },\r\n            { s: 'Windows 7', r: /(Windows 7|Windows NT 6.1)/ },\r\n            { s: 'Windows Vista', r: /Windows NT 6.0/ },\r\n            { s: 'Windows Server 2003', r: /Windows NT 5.2/ },\r\n            { s: 'Windows XP', r: /(Windows NT 5.1|Windows XP)/ },\r\n            { s: 'Windows 2000', r: /(Windows NT 5.0|Windows 2000)/ },\r\n            { s: 'Windows ME', r: /(Win 9x 4.90|Windows ME)/ },\r\n            { s: 'Windows 98', r: /(Windows 98|Win98)/ },\r\n            { s: 'Windows 95', r: /(Windows 95|Win95|Windows_95)/ },\r\n            { s: 'Windows NT 4.0', r: /(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/ },\r\n            { s: 'Windows CE', r: /Windows CE/ },\r\n            { s: 'Windows 3.11', r: /Win16/ },\r\n            { s: 'Android', r: /Android/ },\r\n            { s: 'Open BSD', r: /OpenBSD/ },\r\n            { s: 'Sun OS', r: /SunOS/ },\r\n            { s: 'Chrome OS', r: /CrOS/ },\r\n            { s: 'Linux', r: /(Linux|X11(?!.*CrOS))/ },\r\n            { s: 'iOS', r: /(iPhone|iPad|iPod)/ },\r\n            { s: 'Mac OS X', r: /Mac OS X/ },\r\n            { s: 'Mac OS', r: /(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/ },\r\n            { s: 'QNX', r: /QNX/ },\r\n            { s: 'UNIX', r: /UNIX/ },\r\n            { s: 'BeOS', r: /BeOS/ },\r\n            { s: 'OS/2', r: /OS\\/2/ },\r\n            { s: 'Search Bot', r: /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\\/Teoma|ia_archiver)/ }\r\n        ];\r\n        for (var id in clientStrings) {\r\n            var cs = clientStrings[id];\r\n            if (cs.r.test(nAgt)) {\r\n                os = cs.s;\r\n                break;\r\n            }\r\n        }\r\n\r\n        var osVersion = unknown;\r\n\r\n        if (/Windows/.test(os)) {\r\n            osVersion = /Windows (.*)/.exec(os)[1];\r\n            os = 'Windows';\r\n        }\r\n\r\n        switch (os) {\r\n            case 'Mac OS X':\r\n                osVersion = /Mac OS X (10[\\.\\_\\d]+)/.exec(nAgt)[1];\r\n                break;\r\n\r\n            case 'Android':\r\n                osVersion = /Android ([\\.\\_\\d]+)/.exec(nAgt)[1];\r\n                break;\r\n\r\n            case 'iOS':\r\n                osVersion = /OS (\\d+)_(\\d+)_?(\\d+)?/.exec(nVer);\r\n                osVersion = osVersion[1] + '.' + osVersion[2] + '.' + (osVersion[3] | 0);\r\n                break;\r\n        }\r\n    }\r\n\r\n    return window.jscd = {\r\n        browser: browser,\r\n        browserVersion: version,\r\n        browserMajorVersion: majorVersion,\r\n        os: os,\r\n        osVersion: osVersion\r\n    };\r\n}\r\n\r\nexport function detectWebcam() {\r\n    const mediaDevices = navigator.mediaDevices;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      if (!mediaDevices || !mediaDevices.enumerateDevices) {\r\n        console.log('No hay media devices, saltar al próximo paso !');\r\n        resolve(false);\r\n      }\r\n\r\n      mediaDevices.enumerateDevices().then((devices) => {\r\n        if (devices.some(device => device.kind === 'videoinput')) {\r\n            resolve(true);\r\n        } else {\r\n            resolve(false);\r\n        }\r\n      }).catch(()=> reject(false));\r\n    });\r\n}","/*\n * Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\n * See LICENSE in the project root for license information.\n */\n\nimport gatewayService, { GatewayService } from './services/gateway.service.js';\nimport filedataService from './services/filedata.service.js';\nimport sessionService from './services/session.service.js';\nimport * as attention from './attention.js';\nimport * as Utils from './utils.js';\n\n\n// images references in the manifest\nimport \"../../assets/icon-16.png\";\nimport \"../../assets/icon-32.png\";\nimport \"../../assets/icon-80_1.png\";\n\n/* global document, Office, Word */\n\nlet prodEnvironment;\nlet haveCamera;\nlet userIp;\nlet iter = 0;\nlet terms = [];\nlet customerFirstName;\nlet userFromOffice = false;\nlet userIsActive = false;\nlet isNewUser = false;\nlet counter = 0;\nlet outsideOffice = false;\nconst data = {\n  email: \"\",\n  password: \"\",\n}\n\nOffice.onReady(info => {\n  outsideOffice = (localStorage.getItem('outsideOffice') == 'true');\n  //localStorage.setItem('userFromOffice', userFromOffice);\n  if(userFromOffice){\n    console.log(\"Comienzo\");\n  }\n  \n  console.log(localStorage.getItem('word-document-name1'));\n  console.log(localStorage.getItem('word-document1')); \n  //console.log(info.document.Name);\n  if (info.host === Office.HostType.Word) {\n    getEnvironment();\n    Utils.detectWebcam().then((value) => {\n      haveCamera = value;\n    });\n    filedataService.getIp().then((respuesta) => {      \n      userIp = respuesta.ip;\n      console.log('userIp');\n      console.log(userIp);\n    }).catch(() => {\n      userIp = '127.0.0.1';\n    }).then(() =>{\n      localStorage.setItem('userIp', userIp);\n      //Begin Auth\n      if(localStorage.getItem('user') !== null && localStorage.getItem('noob') !== '0' && !outsideOffice) {\n        data.email = localStorage.getItem('user');\n        document.getElementById(\"email\").value = localStorage.getItem('user');\n        document.getElementById(\"firstName\").value = localStorage.getItem('firstName');\n        document.getElementById(\"lastName\").value = localStorage.getItem('lastName');\n        document.getElementById(\"customerMobile\").value = localStorage.getItem('customerMobile');\n        document.getElementById(\"header\").style.paddingTop = '10px';\n        document.getElementById('welcome-message').innerHTML = 'Verifica tu información:';\n        for (let element of document.getElementsByClassName(\"secondScreen\")){\n          element.style.display=\"none\";\n       }\n        onInput();\n        submit();\n      } \n      //End Auth\n    });\n   \n    \n    \n    document.getElementById(\"sideload-msg\").style.display = \"none\";\n    document.getElementById(\"app-body\").style.display = \"flex\";\n    document.getElementById(\"email-field\").oninput = onInput;\n    document.getElementById(\"password-field\").oninput = onInput;\n    document.getElementById(\"login-form\").onsubmit = onSubmit;\n   \n  }\n});\n\n\nfunction onInput(event) {\n  if(event !== undefined){\n    event.preventDefault();\n    const { id, value } = event.target;\n    data[id] = value;\n  } \n  console.log(\"ON INPUT\");\n}\n\nfunction onSubmit(event) {\n  if(event !== undefined){\n  event.preventDefault();\n  }\n  document.getElementById(\"load-banner\").style.display =\"block\";\n\n  if (localStorage.getItem('noob') === '1' && localStorage.getItem('authId') === '0') {\n    //Start Create User\n    console.log('Inicio Proceso Creacion');\n    localStorage.setItem('authId', '1');\n    data.email = localStorage.getItem('user');\n    validateEmail();\n    document.getElementById(\"load-banner\").style.display =\"none\";\n    return;\n  }\n  \n  if (data.password === \"\") { \n    validateEmail();\n    //document.getElementById(\"load-banner\").style.display = \"none\";\n    return;\n  }\n  submit();\n  //document.getElementById(\"load-banner\").style.display = \"none\";\n}\n\nfunction getEnvironment() {\n  prodEnvironment = window.location.href === 'https://app.mifirma.co/';\n}\n\nfunction submit() {\n  counter++;\n  console.log(`Attempt # ${counter} to submit...`);\n  document.getElementById(\"load-banner\").style.display =\"block\";\n\n\n  \n  if (data.password === \"\") { \n    validateEmail();\n    //document.getElementById(\"load-banner\").style.display = \"none\";\n    return;\n  }\n  if (data.email === \"\" && data.password === \"\") {    \n    showInputInvalid();\n    return;\n  }\n\n  if(isNewUser) {\n    console.log(`autenticating this new user with ${sessionService.authId} and ${data.password}`);\n  } else {\n    console.log(`no authentication has been done, will be done with ${sessionService.authId}`);\n  }\n\n  gatewayService.validate(sessionService.authId, data.password)\n    .then((respuesta) => {\n      if (respuesta.data.hit) {\n        var providedToken = respuesta.data.nextStep.properties.TOKEN;\n        if(typeof providedToken !== 'undefined'){\n          localStorage.setItem('token', providedToken);\n          window.resizeTo(1200, 650);\n          window.location.href = 'https://frosty-archimedes-0b2d91.netlify.app/documentos.html'\n          //window.location.href = 'https://frosty-archimedes-0b2d91.netlify.app/firmador.html'\n          //window.location.href = 'http://localhost:4400/main/documentos';\n        } else {\n          document.getElementById(\"load-banner\").style.display = \"none\";\n          new attention.Alert({\n            title: 'Error en el Backend',\n            content: 'No se ha definido el Token de autorización'\n        });\n        }\n        \n        //\n        //routerInstance.navigate('/firmador');\n      } else {\n        clearForm();\n        document.getElementById(\"load-banner\").style.display = \"none\";\n        document.getElementById(\"password-error\").style.display = \"block\";\n        document.getElementById('password').style.borderColor = 'tomato';\n        new attention.Alert({\n          title: 'Error de autenticación',\n          content: 'Contraseña Incorrecta'\n      });\n        //console.log('Contraseña Incorrecta');\n      }\n    }).catch((response) => {\n      console.log(response);\n      if (response.error && response.error.statusCode === 403) {\n        document.getElementById(\"password-error\").style.display = \"block\";\n        document.getElementById('password-error').style.borderColor = 'tomato';\n        document.getElementById('password-error').textContent= 'Superó el máximo de intentos de autenticación, su usuario ha sido bloqueado por medidas de seguridad';\n        console.log('Superó el máximo de intentos de autenticación, su usuario ha sido bloqueado por medidas de seguridad');\n        //this.router.navigateByUrl('');\n      } else {\n        //this.router.navigateByUrl('main/errorMifirma', { skipLocationChange: true });\n      }\n    });\n}\n\nfunction clearForm() {\n  data.password = \"\";\n}\n\n/**\n* Executes the login process\n*/\nfunction validateEmail() {\n\n  if (data.email === \"\") {\n    showInputInvalid();\n    return;\n  }\n\n  const isMobile = window.innerWidth <= 640;\n  const isTablet = !isMobile && window.innerWidth <= 800;\n  const isDesktop = !isMobile && !isTablet;\n\n  const windowInfo = Utils.datosMaquina(window);\n  console.log('Validating...');\n  if(isNewUser){\n    console.log('this is a new user');\n  }\n  gatewayService.validateUser(\n    data.email,\n    '',\n    userIp,\n    windowInfo.browser,\n    '',\n    windowInfo.os,\n    isMobile,\n    isTablet,\n    isDesktop,\n    haveCamera,\n    false,\n    false\n  ).then((respuesta) => {\n    if (respuesta.data.userExists) {\n      console.log('Logeando user exist...');\n      login(respuesta);\n    } else {\n      //User not found, lets create one\n      const required1 = document.createAttribute(\"required\");\n      const required2 = document.createAttribute(\"required\");\n      document.getElementById(\"datos\").attributes.setNamedItem(required1);\n      document.getElementById(\"terms\").attributes.setNamedItem(required2);\n      localStorage.setItem('authId', respuesta.data.authId);\n      iter++;\n      console.log('Creando este nuevo usuario iter:');\n      if (localStorage.getItem('userFromOffice') && userFromOffice){\n        console.log('El usuario viene de office');\n      } else {\n        console.log('El usuario NO viene de office');\n      }\n      console.log(iter);\n      //console.log(respuesta);\n      for (let element of document.getElementsByClassName(\"thirdScreen\")){\n        element.style.display=\"block\";\n     }\n      var contentFromLS;\n      userFromOffice = (localStorage.getItem('userFromOffice') == 'true');\n      if (userFromOffice && !outsideOffice){\n        contentFromLS = getIdFromOffice();\n        console.log('El usuario SI viene de office');\n        RefreshLayout(); //To hide password and password confirm\n      } else {\n        console.log('El usuario NO viene de office');\n        localStorage.setItem('user', data.email);\n        document.getElementById(\"header\").style.paddingTop = '10px';\n        document.getElementById('welcome-message').innerHTML = 'Verifica tu información:';\n        const req1 = document.createAttribute(\"required\");\n        const req2 = document.createAttribute(\"required\");\n        document.getElementById(\"password1\").attributes.setNamedItem(req1);\n        document.getElementById(\"password2\").attributes.setNamedItem(req2);\n\n        //return;\n      }\n      console.log(`fetched: ${contentFromLS}`);\n\n      if(iter>1){\n        //Verificar contraseña\n        var pass1 = document.getElementById('password1');\n        var pass2 = document.getElementById('password2');\n        if (pass1.value !== '' && (pass1.value == pass2.value)){\n          document.getElementById(\"user-error\").innerHTML = 'ERROR EN CREACION: pass not set or invalid';\n        }\n        if(userFromOffice && !isNewUser){\n          createNewUser();\n        } else if (outsideOffice && !isNewUser){\n          createNewUser();\n        }\n      } \n\n      if(!userIsActive && iter>1){\n        return;\n      }\n\n      //after SUCCESS:\n      document.getElementById(\"load-banner\").style.display = \"none\";\n      \n      document.getElementById(\"user-error\").style.display = \"block\";\n      \n      //document.getElementById('email').style.borderColor = 'tomato';\n\n      /*new attention.Alert({\n        title: 'Usuario creado!...',\n        content: `auth: ${respuesta.data.authId}`\n    });   */\n      //console.log(\"user does not exist\")\n    }\n  }).catch((response) => {\n    console.log(\"user error\", response);\n    if (response.error && response.error.statusCode === 403) {\n      new attention.Alert({\n        title: 'Error de autenticación',\n        content: 'Su usuario ha sido bloqueado por medidas de seguridad, intente más tarde'\n    });\n      //this.toastr.error('Su usuario ha sido bloqueado por medidas de seguridad, intente más tarde');\n    } else {\n      //routerInstance.navigate('main/errorMifirma');\n    }\n  });\n}\n\nfunction RefreshLayout(){\n  var pass1 = document.getElementById('pass1'),\n    pass2 = document.getElementById('pass2'),\n    password1 = document.getElementById('password1'),\n    password2 = document.getElementById('password2');\n    pass1.style.display = 'none';\n    pass2.style.display = 'none';\n    document.getElementById(\"email\").disabled = true;\n    password1.value = localStorage.getItem('homeAccountIdentifier');\n    password2.value = password1.value;\n}\n\nfunction createNewUser(){\n  console.log('pass:');\n  console.log(document.getElementById('password1').value);\n  document.getElementById(\"load-banner\").style.display = \"block\";\n  gatewayService.createCustomer(\n    sessionService.firstName, \n    sessionService.lastName,  \n    document.getElementById('password1').value, \n    sessionService.user, \n    sessionService.customerMobile, \n    sessionService.userIp\n    ).then((Respuesta) => {\n      if(Respuesta.status === 'Created' && Respuesta.statusCode === 201){\n        console.log(Respuesta.message);\n        localStorage.setItem('idCustomer', Respuesta.data.idCustomer);\n        validateThisUser();\n      } else {\n        console.log(\"ERROR:\");\n        console.log(Respuesta);\n        return;\n      }\n      \n  });\n//Process\n//then\n  \n}\n\nfunction validateThisUser() {\n  document.getElementById(\"load-banner\").style.display = \"block\";\n  gatewayService.validate(\n    sessionService.authId,\n    \"\"\n    ).then((Respuesta) =>{\n      if (Respuesta.data.hit && Respuesta.data.nextStep.process === 'OTP') {\n        askOTPfromUser();\n      } else {\n        console.log(\"ERROR:\");\n        console.log(Respuesta);\n        return;\n      }\n  });\n}\n\nfunction askOTPfromUser(){\n  document.getElementById(\"load-banner\").style.display = \"none\";\n  const modal = document.getElementById(\"otp-modal\");\n  modal.style.display = \"flex\";\n  const form = document.getElementById(\"otp-form\");\n  const phoneNumber = localStorage.getItem(\"phoneUser\");\n  const resendCode = document.getElementById('resend-code');\n  resendCode.addEventListener('click', function (){\n    validateThisUser();\n  });\n  document.getElementById(\"phoneUs\").innerHTML = phoneNumber;\n  \n  form.addEventListener(\"submit\", e => {\n      e.preventDefault();\n      const pin = document.getElementById(\"opt-input\").value; \n      document.getElementById(\"load-banner\").style.display = \"block\";\n      console.log(`the pin: ${pin}`);\n      gatewayService.validate(\n        sessionService.authId, \n        pin\n        ).then((Respuesta) => {\n          if (Respuesta.data.hit) {\n            console.log('Que falta?');\n            console.log(Respuesta);\n            gatewayService.acceptTerms(\n              sessionService.userIp, \n              sessionService.idCustomer\n              ).then((Resp) => {\n                if (Resp.success){\n                  addToMiFirma();\n                }\n            });            \n\n          } else { //repeat OTP\n            document.getElementById('otp-error').style.display = 'block';\n            document.getElementById('otp-error').innerText='Código Incorrecto';\n            console.log(Respuesta);\n            askOTPfromUser();\n          }\n      });\n  });\n\n\n}\n\nfunction addToMiFirma(){\n  let auth_code;\n  gatewayService.addToMiFirma(\n    sessionService.firstName + ' ' + sessionService.lastName,\n    sessionService.user,\n    sessionService.customerMobile\n    ).then((Resp) => {\n      if(Resp.status_code === 201){\n        gatewayService.getValidationParameter(\n          sessionService.user\n        ).then((Respuesta) => {\n          if(Respuesta.statusCode == 200) {\n            auth_code = Respuesta.message;\n            const activationMessage = sessionService.user + '&&&' + auth_code;\n            const activationBase64 = window.btoa(activationMessage);\n            gatewayService.activateAccount(\n              activationBase64\n              ).then((Resp) => {\n                if(Resp.statusCode == 200){\n                  showSuccess();\n                } else {\n                  showProcessError();\n                }\n              });\n          } else {\n            showProcessError();\n          }\n        });     \n      } else {\n        showProcessError();\n      }\n    });\n}\n\nfunction showSuccess() {\n  isNewUser = true;\n  document.getElementById(\"load-banner\").style.display = \"none\";\n  const modal = document.getElementById(\"otp-modal\");\n  const modalContent = document.getElementById(\"modal-content\");\n  modal.style.display = \"flex\";\n  modalContent.innerHTML = `<h2>Todo salió bien</h2>\n  <p>Ya puedes comenzar a usar MiFirma</p>\n    <div class=\"MF-center\">\n      <button class=\"MF-button2\" id=\"end-process\">Firmar ahora</button>\n    </div>\n  `;\n  document.getElementById('end-process').addEventListener('click', function (){\n    \n    data.email = sessionService.user;\n    data.password = sessionService.authority;\n    console.log(`Iniciando Sesion... con ${data.email} y ${data.password}`); \n    validateEmail(); //this should refresh authid\n  }); \n}\n\nfunction showProcessError() {\n  isNewUser = false;\n  document.getElementById(\"load-banner\").style.display = \"none\";\n  const modal = document.getElementById(\"otp-modal\");\n  const modalContent = document.getElementById(\"modal-content\");\n  modal.style.display = \"flex\";\n  modalContent.innerHTML = `<h2>Algo salió mal</h2>\n  <p>Por favor intente nuevamente mas tarde</p>`;\n}\n\nfunction login(respuesta) {\n  localStorage.setItem('personaNombre',\n    `${respuesta.data.user.customerFirstName} ${respuesta.data.user.customerLastName}`);\n  localStorage.setItem('phoneUser', respuesta.data.user.customerMobile);\n  localStorage.setItem('correo', data.email);\n  localStorage.setItem('personaId', respuesta.data.user.idCustomer);\n  localStorage.setItem('authId', respuesta.data.authId);\n\n  nextStep(respuesta);\n}\n\nfunction nextStep(respuesta) {\n  console.log('Next step:')\n  console.log(respuesta.data.nextStep.process);\n  switch (respuesta.data.nextStep.process) {\n    case 'Registro':\n      console.log('Registrando Usuario...');//not active\n      break;\n    case 'Terminos':\n      processTerms(respuesta);\n      break;\n    case 'Facial':\n      routerInstance.navigate(['login/facial']);\n      break;\n    case 'OTP':\n      routerInstance.navigate(['login']);\n      break;\n    case 'Password':\n      const fromOffice = (localStorage.getItem('userFromOffice') == 'true');\n      if(isNewUser || fromOffice) {\n        document.getElementById(\"password\").value = sessionService.authority;\n        data.password = document.getElementById(\"password\").value;\n        console.log('key: ');\n        console.log(data.password);\n        submit();\n      } else {\n        const requiredField = document.createAttribute(\"required\");\n        document.getElementById(\"customerName\").innerText = localStorage.getItem('personaNombre');\n        document.getElementById(\"password\").attributes.setNamedItem(requiredField);\n        document.getElementById(\"submit-btn\").textContent = \"Ingresar\";\n        document.getElementById(\"load-banner\").style.display = \"none\";\n        for (let element of document.getElementsByClassName(\"firstScreen\")){\n          element.style.display=\"none\";\n        }\n        for (let element of document.getElementsByClassName(\"secondScreen\")){\n          element.style.display=\"block\";\n        }\n      }\n    break;\n  }\n}\n\nfunction processTerms(respuesta) {\n  if (JSON.stringify(respuesta.data.nextStep.properties) == '{}') {\n    gatewayService.validate(respuesta.data.authId, '').then((Respuesta) => {\n      if (!respuesta.data.user.isActive) {\n        //routerInstance.navigate(['registro/activar/cuenta']);\n      } else {\n        nextStep(Respuesta);\n      }\n    }).catch((response) => {\n      console.log(response)\n      if (response.error && response.error.statusCode === 403) {\n        console.log('Su usuario ha sido bloqueado por medidas de seguridad, intente más tarde');\n      } else {\n        // routerInstance.navigate('main/errorMifirma');\n      }\n    });\n  } else {\n    console.log(\"Unhandled Terms! \");\n    document.getElementById(\"load-banner\").style.display = \"none\";\n      new attention.Alert({\n        title: 'Terminos y condiciones',\n        content: 'Hemos actualizado nuestros términos y condiciones'\n    });  \n    for (let i in respuesta.data.nextStep.properties) {\n      terms.push(+respuesta.data.nextStep.properties[i]);\n    }\n    console.log(terms);\n    // this.fdService.terms(this.terms);\n    if (!respuesta.data.user.isActive) {\n      localStorage.setItem('noActive', 'false');\n    }\n    //routerInstance.navigate(['login/terminos']);\n  }\n}\n\nfunction showInputInvalid() {\n  document.getElementById(\"load-banner\").style.display = \"none\";\n  new attention.Alert({\n        title: 'Error de autenticación',\n        content: 'Correo o contraseña inválidos'\n    }); \n  //console.log(\"invalid input\")\n}\n\nconst userFirstName = document.querySelector('#firstName');\nconst userLastName = document.querySelector('#lastName');\nconst customerMobile = document.querySelector('#customerMobile');\nconst togglePassword = document.querySelector('#togglePassword');\nconst togglePassword1 = document.querySelector('#togglePassword1');\nconst togglePassword2 = document.querySelector('#togglePassword2');\nconst password = document.querySelector('#password');\nconst password1 = document.querySelector('#password1');\nconst password2 = document.querySelector('#password2');\n\nuserFirstName.addEventListener('keyup', function (){\n  localStorage.setItem('firstName', userFirstName.value);\n});\n\nuserLastName.addEventListener('keyup', function (){\n  localStorage.setItem('lastName', userLastName.value);\n});\n\ncustomerMobile.addEventListener('keyup', function (){\n  localStorage.setItem('customerMobile', customerMobile.value);\n});\n\ntogglePassword.addEventListener('click', function (e) {\n    // toggle the type attribute\n    const type = password.getAttribute('type') === 'password' ? 'text' : 'password';\n    password.setAttribute('type', type);\n    // toggle the eye slash icon\n    this.classList.toggle('fa-eye-slash');\n});\ntogglePassword1.addEventListener('click', function (e) {\n    // toggle the type attribute\n    const type = password1.getAttribute('type') === 'password' ? 'text' : 'password';\n    password1.setAttribute('type', type);\n    // toggle the eye slash icon\n    this.classList.toggle('fa-eye-slash');\n});\ntogglePassword2.addEventListener('click', function (e) {\n    // toggle the type attribute\n    const type = password2.getAttribute('type') === 'password' ? 'text' : 'password';\n    password2.setAttribute('type', type);\n    // toggle the eye slash icon\n    this.classList.toggle('fa-eye-slash');\n});\n//new code for adding vanilla store (from main.js)\n\nfunction getIdFromOffice() {\n  var wantedId = 0;\n  var keys = Object.keys(localStorage),\n      i = keys.length;\n  while ( i-- ) {\n      var str = keys[i];\n      if(str.startsWith(\"{\")){\n        var obj = JSON.parse(str);\n        //console.log(obj);\n        for (var [key, value] of Object.entries(obj)) {\n          localStorage.setItem(key, value);\n          if(key === 'homeAccountIdentifier'){\n            console.log(`found: ${key}: ${value}`);\n            wantedId = value;\n            userFromOffice = true;\n            localStorage.setItem('userFromOffice', userFromOffice);\n          }      \n        }\n      }\n      \n      }\n  return wantedId;\n}","module.exports = __webpack_public_path__ + \"assets/icon-16.png\";","module.exports = __webpack_public_path__ + \"assets/icon-32.png\";","module.exports = __webpack_public_path__ + \"assets/icon-80_1.png\";","class FiledataService {\r\n\r\n    getIp() {\r\n        return fetch('https://jsonip.com').then(response => response.json());\r\n    }\r\n\r\n}\r\n\r\nconst filedataService = new FiledataService();\r\n\r\nexport default filedataService;"],"sourceRoot":""}